import{c as ae,b as oe,as as re,d as q,h as N,g as ve,E as de,i as W,n as ce,an as _e,ao as he,ap as Z,s as z,e as M,C as me,at as pe,aj as U,al as Ee,au as L,av as F,_ as we,aw as $,z as Se,ax as j,ay as ne,X as Ae,ag as te,ai as ge,az as Te,aA as B,R as Ie,ah as se,aB as be,a as xe,aC as Ce,aD as Ne,aE as Oe,l as De}from"./C6kp5iGx.js";import{w as Me}from"./JjBbrouE.js";function qe(t,a){return a}function Re(t,a,e){for(var r=t.items,f=[],o=a.length,s=0;s<o;s++)Ce(a[s].e,f,!0);var d=o>0&&f.length===0&&e!==null;if(d){var w=e.parentNode;Ne(w),w.append(e),r.clear(),T(t,a[0].prev,a[o-1].next)}Oe(f,()=>{for(var E=0;E<o;E++){var _=a[E];d||(r.delete(_.k),T(t,_.prev,_.next)),se(_.e,!d)}})}function ze(t,a,e,r,f,o=null){var s=t,d={flags:a,items:new Map,first:null},w=(a&re)!==0;if(w){var E=t;s=N?q(ve(E)):E.appendChild(ae())}N&&de();var _=null,b=!1,S=new Map,x=ce(()=>{var c=e();return Ae(c)?c:c==null?[]:ne(c)}),l,v;function u(){He(v,l,d,S,s,f,a,r,e),o!==null&&(l.length===0?_?te(_):_=U(()=>o(s)):_!==null&&ge(_,()=>{_=null}))}oe(()=>{v??(v=De),l=W(x);var c=l.length;if(b&&c===0)return;b=c===0;let p=!1;if(N){var A=_e(s)===he;A!==(c===0)&&(s=Z(),q(s),z(!1),p=!0)}if(N){for(var I=null,h,n=0;n<c;n++){if(M.nodeType===me&&M.data===pe){s=M,p=!0,z(!1);break}var i=l[n],m=r(i,n);h=V(M,d,I,null,i,m,n,f,a,e),d.items.set(m,h),I=h}c>0&&q(Z())}if(N)c===0&&o&&(_=U(()=>o(s)));else if(Ee()){var O=new Set,R=we;for(n=0;n<c;n+=1){i=l[n],m=r(i,n);var C=d.items.get(m)??S.get(m);C?(a&(L|F))!==0&&le(C,i,n,a):(h=V(null,d,null,null,i,m,n,f,a,e,!0),S.set(m,h)),O.add(m)}for(const[g,H]of d.items)O.has(g)||R.skipped_effects.add(H.e);R.oncommit(u)}else u();p&&z(!0),W(x)}),N&&(s=M)}function He(t,a,e,r,f,o,s,d,w){var X,K,y,P;var E=(s&be)!==0,_=(s&(L|F))!==0,b=a.length,S=e.items,x=e.first,l=x,v,u=null,c,p=[],A=[],I,h,n,i;if(E)for(i=0;i<b;i+=1)I=a[i],h=d(I,i),n=S.get(h),n!==void 0&&((X=n.a)==null||X.measure(),(c??(c=new Set)).add(n));for(i=0;i<b;i+=1){if(I=a[i],h=d(I,i),n=S.get(h),n===void 0){var m=r.get(h);if(m!==void 0){r.delete(h),S.set(h,m);var O=u?u.next:l;T(e,u,m),T(e,m,O),G(m,O,f),u=m}else{var R=l?l.e.nodes_start:f;u=V(R,e,u,u===null?e.first:u.next,I,h,i,o,s,w)}S.set(h,u),p=[],A=[],l=u.next;continue}if(_&&le(n,I,i,s),(n.e.f&B)!==0&&(te(n.e),E&&((K=n.a)==null||K.unfix(),(c??(c=new Set)).delete(n))),n!==l){if(v!==void 0&&v.has(n)){if(p.length<A.length){var C=A[0],g;u=C.prev;var H=p[0],J=p[p.length-1];for(g=0;g<p.length;g+=1)G(p[g],C,f);for(g=0;g<A.length;g+=1)v.delete(A[g]);T(e,H.prev,J.next),T(e,u,H),T(e,J,C),l=C,u=J,i-=1,p=[],A=[]}else v.delete(n),G(n,l,f),T(e,n.prev,n.next),T(e,n,u===null?e.first:u.next),T(e,u,n),u=n;continue}for(p=[],A=[];l!==null&&l.k!==h;)(l.e.f&B)===0&&(v??(v=new Set)).add(l),A.push(l),l=l.next;if(l===null)continue;n=l}p.push(n),u=n,l=n.next}if(l!==null||v!==void 0){for(var D=v===void 0?[]:ne(v);l!==null;)(l.e.f&B)===0&&D.push(l),l=l.next;var Y=D.length;if(Y>0){var fe=(s&re)!==0&&b===0?f:null;if(E){for(i=0;i<Y;i+=1)(y=D[i].a)==null||y.measure();for(i=0;i<Y;i+=1)(P=D[i].a)==null||P.fix()}Re(e,D,fe)}}E&&Ie(()=>{var Q;if(c!==void 0)for(n of c)(Q=n.a)==null||Q.apply()}),t.first=e.first&&e.first.e,t.last=u&&u.e;for(var ue of r.values())se(ue.e);r.clear()}function le(t,a,e,r){(r&L)!==0&&$(t.v,a),(r&F)!==0?$(t.i,e):t.i=e}function V(t,a,e,r,f,o,s,d,w,E,_){var b=(w&L)!==0,S=(w&Te)===0,x=b?S?Se(f,!1,!1):j(f):f,l=(w&F)===0?s:j(s),v={i:l,v:x,k:o,a:null,e:null,prev:e,next:r};try{if(t===null){var u=document.createDocumentFragment();u.append(t=ae())}return v.e=U(()=>d(t,x,l,E),N),v.e.prev=e&&e.e,v.e.next=r&&r.e,e===null?_||(a.first=v):(e.next=v,e.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function G(t,a,e){for(var r=t.next?t.next.e.nodes_start:e,f=a?a.e.nodes_start:e,o=t.e.nodes_start;o!==null&&o!==r;){var s=xe(o);f.before(o),o=s}}function T(t,a,e){a===null?t.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}const k=[...` 	
\r\fÂ \v\uFEFF`];function Be(t,a,e){var r=t==null?"":""+t;if(a&&(r=r?r+" "+a:a),e){for(var f in e)if(e[f])r=r?r+" "+f:f;else if(r.length)for(var o=f.length,s=0;(s=r.indexOf(f,s))>=0;){var d=s+o;(s===0||k.includes(r[s-1]))&&(d===r.length||k.includes(r[d]))?r=(s===0?"":r.substring(0,s))+r.substring(d+1):s=d}}return r===""?null:r}function Ge(t,a){return t==null?null:String(t)}const ie="jastipku-auth",ee={role:"guest"},Le=(()=>{try{const t=localStorage.getItem(ie);return t?JSON.parse(t):ee}catch(t){return console.warn("Failed to read auth state from storage",t),ee}})(),Fe=Me(Le);Fe.subscribe(t=>{try{localStorage.setItem(ie,JSON.stringify(t))}catch(a){console.warn("Failed to persist auth state",a)}});const Ue={guest:{label:"Guest",home:"/"},user:{label:"User",home:"/browse"},jastiper:{label:"Jastiper",home:"/jastiper"},admin:{label:"Admin",home:"/admin"}};export{Ge as a,Fe as b,ze as e,qe as i,Ue as r,Be as t};

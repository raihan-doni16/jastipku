import{f as u,a as p}from"../chunks/CUf5UZYF.js";import"../chunks/BoQy5TvO.js";import{o as Zs}from"../chunks/JjBbrouE.js";import{a6 as sa,z as d,a7 as x,a8 as aa,a9 as Ds,aa as N,ab as ea,i as s,u as r,a4 as t,k as o,ac as v,a5 as e,a2 as J}from"../chunks/C6kp5iGx.js";import{s as c}from"../chunks/Dvw9CKj1.js";import{i as $}from"../chunks/BMTi0gWB.js";import{b as ta,e as es}from"../chunks/DPurX8ys.js";import{s as Is}from"../chunks/D6eV9jrv.js";import{s as ts}from"../chunks/BfAcoFpJ.js";import{i as la}from"../chunks/BvILkHPm.js";import{g as va}from"../chunks/BqC4448f.js";import{N as ra}from"../chunks/CAlpgxxh.js";import{c as ia,b as ws,l as Bs,j as Ls}from"../chunks/tGRDOfAf.js";var na=u('<div class="empty-state svelte-1q93x6x"><span class="empty-icon svelte-1q93x6x">ğŸ“¦</span> <p class="svelte-1q93x6x">Belum ada pesanan</p></div>'),ca=u('<div class="order-item svelte-1q93x6x"><div class="order-info svelte-1q93x6x"><span class="order-code svelte-1q93x6x"> </span> <span class="order-product svelte-1q93x6x"> </span> <span class="order-buyer svelte-1q93x6x"> </span></div> <div class="order-meta svelte-1q93x6x"><span class="status-badge svelte-1q93x6x"> </span> <span class="order-amount svelte-1q93x6x"> </span></div></div>'),da=u('<div class="orders-list svelte-1q93x6x"></div>'),pa=u('<div class="empty-state svelte-1q93x6x"><span class="empty-icon svelte-1q93x6x">ğŸ“</span> <p class="svelte-1q93x6x">Belum ada postingan</p></div>'),xa=u('<span class="stat svelte-1q93x6x"> </span>'),oa=u('<span class="stat svelte-1q93x6x"> </span> <span class="stat svelte-1q93x6x"> </span>',1),ua=u('<div class="listing-item svelte-1q93x6x"><div class="listing-icon svelte-1q93x6x"> </div> <div class="listing-info svelte-1q93x6x"><h4 class="svelte-1q93x6x"> </h4> <p class="listing-country svelte-1q93x6x"> </p> <div class="listing-stats svelte-1q93x6x"><!></div></div> <span class="type-badge svelte-1q93x6x"> </span></div>'),_a=u('<div class="listings-list svelte-1q93x6x"></div>'),qa=u('<div class="empty-state svelte-1q93x6x"><span class="empty-icon svelte-1q93x6x">ğŸ’³</span> <p class="svelte-1q93x6x">Belum ada transaksi</p></div>'),ma=u('<tr class="svelte-1q93x6x"><td class="svelte-1q93x6x"> </td><td class="svelte-1q93x6x"> </td><td class="svelte-1q93x6x"><span> </span></td><td class="svelte-1q93x6x"><span class="status-badge small svelte-1q93x6x"> </span></td><td class="svelte-1q93x6x"><span> </span></td></tr>'),fa=u('<div class="transactions-table svelte-1q93x6x"><table class="svelte-1q93x6x"><thead><tr><th class="svelte-1q93x6x">Tanggal</th><th class="svelte-1q93x6x">Deskripsi</th><th class="svelte-1q93x6x">Tipe</th><th class="svelte-1q93x6x">Status</th><th class="svelte-1q93x6x">Jumlah</th></tr></thead><tbody></tbody></table></div>'),ha=u('<!> <div class="container svelte-1q93x6x"><div class="header svelte-1q93x6x"><div><h1 class="svelte-1q93x6x">Dashboard Jastiper</h1> <p class="svelte-1q93x6x">Selamat datang kembali, Sarah Kim! ğŸ‘‹</p></div> <a href="/jastiper/listings/create" class="btn-create svelte-1q93x6x"><span class="svelte-1q93x6x">+</span> Buat Postingan Baru</a></div> <div class="kpi-grid svelte-1q93x6x"><div class="kpi-card svelte-1q93x6x"><div class="kpi-icon svelte-1q93x6x" style="background: #eff6ff; color: #1e40af;">ğŸ’°</div> <div class="kpi-content svelte-1q93x6x"><span class="kpi-label svelte-1q93x6x">Saldo Aktif</span> <span class="kpi-value svelte-1q93x6x" style="color: #0ea5e9;"> </span> <span class="kpi-sublabel svelte-1q93x6x">Siap dicairkan</span></div></div> <div class="kpi-card svelte-1q93x6x"><div class="kpi-icon svelte-1q93x6x" style="background: #fef3c7; color: #92400e;">â³</div> <div class="kpi-content svelte-1q93x6x"><span class="kpi-label svelte-1q93x6x">Saldo Tertahan</span> <span class="kpi-value svelte-1q93x6x" style="color: #f59e0b;"> </span> <span class="kpi-sublabel svelte-1q93x6x">Menunggu konfirmasi</span></div></div> <div class="kpi-card svelte-1q93x6x"><div class="kpi-icon svelte-1q93x6x" style="background: #dcfce7; color: #15803d;">ğŸ“¦</div> <div class="kpi-content svelte-1q93x6x"><span class="kpi-label svelte-1q93x6x">Pesanan Baru</span> <span class="kpi-value svelte-1q93x6x" style="color: #22c55e;"> </span> <span class="kpi-sublabel svelte-1q93x6x">Perlu dibeli</span></div></div> <div class="kpi-card svelte-1q93x6x"><div class="kpi-icon svelte-1q93x6x" style="background: #fae8ff; color: #86198f;">ğŸ“</div> <div class="kpi-content svelte-1q93x6x"><span class="kpi-label svelte-1q93x6x">Listing Aktif</span> <span class="kpi-value svelte-1q93x6x" style="color: #a855f7;"> </span> <span class="kpi-sublabel svelte-1q93x6x">Postingan tersedia</span></div></div></div> <div class="stats-grid svelte-1q93x6x"><div class="stat-card svelte-1q93x6x"><span class="stat-icon svelte-1q93x6x">âœ…</span> <span class="stat-number svelte-1q93x6x"> </span> <span class="stat-label svelte-1q93x6x">Pesanan Selesai</span></div> <div class="stat-card svelte-1q93x6x"><span class="stat-icon svelte-1q93x6x">ğŸ›’</span> <span class="stat-number svelte-1q93x6x"> </span> <span class="stat-label svelte-1q93x6x">Sudah Dibeli</span></div> <div class="stat-card svelte-1q93x6x"><span class="stat-icon svelte-1q93x6x">â­</span> <span class="stat-number svelte-1q93x6x">4.8</span> <span class="stat-label svelte-1q93x6x">Rating</span></div> <div class="stat-card svelte-1q93x6x"><span class="stat-icon svelte-1q93x6x">ğŸ¯</span> <span class="stat-number svelte-1q93x6x"> </span> <span class="stat-label svelte-1q93x6x">Total Penjualan</span></div></div> <div class="content-grid svelte-1q93x6x"><div class="section-card svelte-1q93x6x"><div class="section-header svelte-1q93x6x"><h2 class="svelte-1q93x6x">Pesanan Terbaru</h2> <a href="/jastiper/orders" class="link svelte-1q93x6x">Lihat Semua â†’</a></div> <!></div> <div class="section-card svelte-1q93x6x"><div class="section-header svelte-1q93x6x"><h2 class="svelte-1q93x6x">Postingan Saya</h2> <a href="/jastiper/listings" class="link svelte-1q93x6x">Kelola â†’</a></div> <!></div></div> <div class="section-card svelte-1q93x6x"><div class="section-header svelte-1q93x6x"><h2 class="svelte-1q93x6x">Transaksi Terbaru</h2> <a href="/jastiper/wallet" class="link svelte-1q93x6x">Lihat Semua â†’</a></div> <!></div></div>',1);function Ja(Js,Ns){sa(Ns,!1);const _=d(),h=d(),b=d(),Os=d(),z=d(),E=d(),ls=d(),vs=d(),rs=d(),is=d(),ns=d();let cs="guest";ta.subscribe(a=>{cs=a.role}),Zs(()=>{cs!=="jastiper"&&va("/login?redirect=/jastiper&expected=jastiper")});const H="JST001";let O=d(null),M=d(ia.filter(a=>a.jastiperId===H).map(a=>({...a,messages:[...a.messages]})));function A(a){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a)}function Ms(a){return new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}x(()=>ws,()=>{o(_,ws.filter(a=>a.jastiperId===H))}),x(()=>Bs,()=>{o(h,Bs.filter(a=>a.jastiperId===H))}),x(()=>Ls,()=>{o(b,Ls.filter(a=>a.jastiperId===H))}),x(()=>(s(O),s(M)),()=>{!s(O)&&s(M).length>0&&o(O,s(M)[0].id)}),x(()=>(s(M),s(O)),()=>{o(Os,s(M).find(a=>a.id===s(O))??null)}),x(()=>s(b),()=>{o(z,s(b).filter(a=>a.type==="income"&&a.status==="pending").reduce((a,n)=>a+n.amount,0))}),x(()=>s(b),()=>{o(E,s(b).filter(a=>a.type==="income"&&a.status==="released").reduce((a,n)=>a+n.amount,0))}),x(()=>s(_),()=>{o(ls,s(_).filter(a=>a.status==="waiting_purchase").length)}),x(()=>s(_),()=>{o(vs,s(_).filter(a=>a.status==="purchased").length)}),x(()=>s(_),()=>{o(rs,s(_).filter(a=>a.status==="completed").length)}),x(()=>s(h),()=>{o(is,s(h).filter(a=>a.status==="available").length)}),x(()=>s(h),()=>{o(ns,s(h).reduce((a,n)=>a+(n.sold||0),0))}),aa(),la();var ds=ha(),ps=Ds(ds);ra(ps,{});var xs=v(ps,2),G=v(t(xs),2),Q=t(G),os=v(t(Q),2),us=v(t(os),2),As=t(us,!0);e(us),J(2),e(os),e(Q);var U=v(Q,2),_s=v(t(U),2),qs=v(t(_s),2),Cs=t(qs,!0);e(qs),J(2),e(_s),e(U);var V=v(U,2),ms=v(t(V),2),fs=v(t(ms),2),Fs=t(fs,!0);e(fs),J(2),e(ms),e(V);var hs=v(V,2),bs=v(t(hs),2),ks=v(t(bs),2),Rs=t(ks,!0);e(ks),J(2),e(bs),e(hs),e(G);var W=v(G,2),X=t(W),ys=v(t(X),2),Hs=t(ys,!0);e(ys),J(2),e(X);var Y=v(X,2),gs=v(t(Y),2),Ks=t(gs,!0);e(gs),J(2),e(Y);var js=v(Y,4),Ss=v(t(js),2),$s=t(Ss,!0);e(Ss),J(2),e(js),e(W);var Z=v(W,2),ss=t(Z),zs=v(t(ss),2);{var Es=a=>{var n=na();p(a,n)},Gs=a=>{var n=da();es(n,5,()=>(s(_),r(()=>s(_).slice(0,5))),m=>m.id,(m,l)=>{var q=ca(),i=t(q),k=t(i),y=t(k,!0);e(k);var g=v(k,2),B=t(g,!0);e(g);var D=v(g,2),L=t(D);e(D),e(i);var j=v(i,2),S=t(j),C=t(S,!0);e(S);var I=v(S,2),P=t(I,!0);e(I),e(j),e(q),N(F=>{c(y,(s(l),r(()=>s(l).orderCode))),c(B,(s(l),r(()=>s(l).productName))),c(L,`Pembeli: ${s(l),r(()=>s(l).buyerName)??""}`),ts(S,`background: ${s(l),r(()=>s(l).status==="purchased"?"#dcfce7":"#fef3c7")??""}; color: ${s(l),r(()=>s(l).status==="purchased"?"#15803d":"#92400e")??""}`),c(C,(s(l),r(()=>s(l).status==="purchased"?"Sudah Dibeli":"Menunggu"))),c(P,F)},[()=>(s(l),r(()=>A(s(l).totalPrice)))]),p(m,q)}),e(n),p(a,n)};$(zs,a=>{s(_),r(()=>s(_).length===0)?a(Es):a(Gs,!1)})}e(ss);var Ps=v(ss,2),Qs=v(t(Ps),2);{var Us=a=>{var n=pa();p(a,n)},Vs=a=>{var n=_a();es(n,5,()=>(s(h),r(()=>s(h).slice(0,3))),m=>m.id,(m,l)=>{var q=ua(),i=t(q),k=t(i,!0);e(i);var y=v(i,2),g=t(y),B=t(g,!0);e(g);var D=v(g,2),L=t(D,!0);e(D);var j=v(D,2),S=t(j);{var C=T=>{var f=xa(),w=t(f);e(f),N(R=>c(w,`Harga: ${R??""}`),[()=>(s(l),r(()=>A(s(l).price)))]),p(T,f)},I=T=>{var f=oa(),w=Ds(f),R=t(w);e(w);var K=v(w,2),as=t(K);e(K),N(()=>{c(R,`${s(l),r(()=>s(l).sold)??""}/${s(l),r(()=>s(l).quota)??""} slot`),c(as,`Fee: ${s(l),r(()=>s(l).fee)??""}%`)}),p(T,f)};$(S,T=>{s(l),r(()=>s(l).type==="preloved")?T(C):T(I,!1)})}e(j),e(y);var P=v(y,2),F=t(P,!0);e(P),e(q),N(()=>{c(k,(s(l),r(()=>s(l).images[0]))),c(B,(s(l),r(()=>s(l).title))),c(L,(s(l),r(()=>s(l).country))),ts(P,`background: ${s(l),r(()=>s(l).type==="jastip"?"#0ea5e9":s(l).type==="preloved"?"#f97316":"#a855f7")??""}`),c(F,(s(l),r(()=>s(l).type==="jastip"?"Jastip":s(l).type==="preloved"?"Preloved":"Event")))}),p(m,q)}),e(n),p(a,n)};$(Qs,a=>{s(h),r(()=>s(h).length===0)?a(Us):a(Vs,!1)})}e(Ps),e(Z);var Ts=v(Z,2),Ws=v(t(Ts),2);{var Xs=a=>{var n=qa();p(a,n)},Ys=a=>{var n=fa(),m=t(n),l=v(t(m));es(l,5,()=>(s(b),r(()=>s(b).slice(0,5))),q=>q.id,(q,i)=>{var k=ma(),y=t(k),g=t(y,!0);e(y);var B=v(y),D=t(B,!0);e(B);var L=v(B),j=t(L);let S;var C=t(j,!0);e(j),e(L);var I=v(L),P=t(I),F=t(P,!0);e(P),e(I);var T=v(I),f=t(T);let w;var R=t(f,!0);e(f),e(T),e(k),N((K,as)=>{c(g,K),c(D,(s(i),r(()=>s(i).description))),S=Is(j,1,"type-label svelte-1q93x6x",null,S,{income:s(i).type==="income",withdrawal:s(i).type==="withdrawal"}),c(C,(s(i),r(()=>s(i).type==="income"?"Pemasukan":"Penarikan"))),ts(P,`background: ${s(i),r(()=>s(i).status==="completed"?"#dcfce7":s(i).status==="released"?"#dbeafe":"#fef3c7")??""}; color: ${s(i),r(()=>s(i).status==="completed"?"#15803d":s(i).status==="released"?"#1e40af":"#92400e")??""}`),c(F,(s(i),r(()=>s(i).status==="completed"?"Selesai":s(i).status==="released"?"Tersedia":"Tertahan"))),w=Is(f,1,"amount svelte-1q93x6x",null,w,{positive:s(i).amount>0,negative:s(i).amount<0}),c(R,as)},[()=>(s(i),r(()=>Ms(s(i).createdAt))),()=>(s(i),r(()=>A(Math.abs(s(i).amount))))]),p(q,k)}),e(l),e(m),e(n),p(a,n)};$(Ws,a=>{s(b),r(()=>s(b).length===0)?a(Xs):a(Ys,!1)})}e(Ts),e(xs),N((a,n)=>{c(As,a),c(Cs,n),c(Fs,s(ls)),c(Rs,s(is)),c(Hs,s(rs)),c(Ks,s(vs)),c($s,s(ns))},[()=>(s(E),r(()=>A(s(E)))),()=>(s(z),r(()=>A(s(z))))]),p(Js,ds),ea()}export{Ja as component};

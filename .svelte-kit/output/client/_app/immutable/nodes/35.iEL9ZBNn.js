import{f as _,a as f}from"../chunks/CUf5UZYF.js";import"../chunks/BoQy5TvO.js";import{o as Oa}from"../chunks/JjBbrouE.js";import{a6 as za,a7 as q,a8 as Ha,a9 as La,aa as k,ab as qa,i as a,z as P,ac as l,a4 as s,k as h,u as r,ae as z,a5 as t,a2 as E,ad as Ea}from"../chunks/C6kp5iGx.js";import{e as ka,s as d}from"../chunks/Dvw9CKj1.js";import{i as H}from"../chunks/BMTi0gWB.js";import{b as Ga,e as Qa}from"../chunks/DPurX8ys.js";import{s as Ua,r as ta}from"../chunks/CK8WfoRq.js";import{s as ga}from"../chunks/D6eV9jrv.js";import{s as Va}from"../chunks/BfAcoFpJ.js";import{b as sa}from"../chunks/BXzdIX3i.js";import{b as Xa}from"../chunks/oa8gdtCF.js";import{i as Ya}from"../chunks/BvILkHPm.js";import{g as Za}from"../chunks/BqC4448f.js";import{N as xa}from"../chunks/CAlpgxxh.js";import{M as ae}from"../chunks/DIG4Q-3q.js";import{j as Na}from"../chunks/tGRDOfAf.js";var ee=_('<div class="empty-state svelte-9tmhmf"><span class="empty-icon svelte-9tmhmf">üí≥</span> <p class="svelte-9tmhmf">Belum ada transaksi</p></div>'),te=_('<span class="order-code svelte-9tmhmf"> </span>'),se=_('<span class="detail-text svelte-9tmhmf"> </span>'),le=_('<span class="detail-text svelte-9tmhmf"> </span>'),ne=_('<span class="detail-text svelte-9tmhmf"> </span>'),ie=_('<tr class="svelte-9tmhmf"><td class="svelte-9tmhmf"> </td><td class="svelte-9tmhmf"><div class="description svelte-9tmhmf"><span class="desc-text svelte-9tmhmf"> </span> <!></div></td><td class="svelte-9tmhmf"><span> </span></td><td class="svelte-9tmhmf"><span class="status-badge svelte-9tmhmf"> </span></td><td class="svelte-9tmhmf"><span> </span></td><td class="svelte-9tmhmf"><div class="details svelte-9tmhmf"><!> <!> <!></div></td></tr>'),re=_('<div class="transactions-table svelte-9tmhmf"><table class="svelte-9tmhmf"><thead><tr><th class="svelte-9tmhmf">Tanggal</th><th class="svelte-9tmhmf">Deskripsi</th><th class="svelte-9tmhmf">Tipe</th><th class="svelte-9tmhmf">Status</th><th class="svelte-9tmhmf">Jumlah</th><th class="svelte-9tmhmf">Keterangan</th></tr></thead><tbody></tbody></table></div>'),me=_(`<div class="withdraw-modal svelte-9tmhmf"><div class="balance-info svelte-9tmhmf"><span>Saldo Tersedia:</span> <span class="balance svelte-9tmhmf"> </span></div> <div class="form-group svelte-9tmhmf"><label class="svelte-9tmhmf">Jumlah Penarikan *</label> <div class="input-with-button svelte-9tmhmf"><input type="number" placeholder="0" min="0" class="svelte-9tmhmf"/> <button class="btn-max svelte-9tmhmf" type="button">Tarik Semua</button></div></div> <div class="form-group svelte-9tmhmf"><label class="svelte-9tmhmf">Nama Bank *</label> <select class="svelte-9tmhmf"><option>Pilih Bank</option><option>BCA</option><option>Mandiri</option><option>BNI</option><option>BRI</option><option>CIMB Niaga</option></select></div> <div class="form-group svelte-9tmhmf"><label class="svelte-9tmhmf">Nomor Rekening *</label> <input type="text" placeholder="1234567890" class="svelte-9tmhmf"/></div> <div class="form-group svelte-9tmhmf"><label class="svelte-9tmhmf">Nama Pemilik Rekening *</label> <input type="text" placeholder="Nama sesuai rekening" class="svelte-9tmhmf"/></div> <div class="info-box svelte-9tmhmf"><p class="svelte-9tmhmf"><strong>Catatan:</strong> Dana akan ditransfer dalam 1-3 hari kerja. Pastikan
        data rekening sudah benar.</p></div></div>`),ve=_('<!> <div class="container svelte-9tmhmf"><div class="header svelte-9tmhmf"><div><h1 class="svelte-9tmhmf">Wallet & Saldo</h1> <p class="svelte-9tmhmf">Kelola pemasukan dan penarikan dana Anda</p></div></div> <div class="balance-grid svelte-9tmhmf"><div class="balance-card primary svelte-9tmhmf"><div class="balance-icon svelte-9tmhmf">üí∞</div> <div class="balance-content svelte-9tmhmf"><span class="balance-label svelte-9tmhmf">Saldo Aktif</span> <span class="balance-amount svelte-9tmhmf"> </span> <span class="balance-sublabel svelte-9tmhmf">Siap dicairkan</span></div> <button class="btn-withdraw svelte-9tmhmf">Tarik Dana</button></div> <div class="balance-card warning svelte-9tmhmf"><div class="balance-icon svelte-9tmhmf">‚è≥</div> <div class="balance-content svelte-9tmhmf"><span class="balance-label svelte-9tmhmf">Saldo Tertahan (Rekber)</span> <span class="balance-amount svelte-9tmhmf"> </span> <span class="balance-sublabel svelte-9tmhmf">Menunggu konfirmasi pembeli</span></div></div> <div class="balance-card info svelte-9tmhmf"><div class="balance-icon svelte-9tmhmf">üìä</div> <div class="balance-content svelte-9tmhmf"><span class="balance-label svelte-9tmhmf">Total Ditarik</span> <span class="balance-amount svelte-9tmhmf"> </span> <span class="balance-sublabel svelte-9tmhmf">Riwayat penarikan</span></div></div></div> <div class="transactions-section svelte-9tmhmf"><h2 class="svelte-9tmhmf">Riwayat Transaksi</h2> <!></div></div> <!>',1);function Be(ya,wa){za(wa,!1);const p=P(),G=P(),u=P(),Q=P();let la="guest";Ga.subscribe(n=>{la=n.role}),Oa(()=>{la!=="jastiper"&&Za("/login?redirect=/jastiper/wallet&expected=jastiper")});const $a="JST001";let j=P(!1),i=P({amount:0,bankName:"",accountNumber:"",accountName:""});function D(n){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n)}function U(n){return new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Da(){if(a(u)===0){alert("Saldo aktif Anda kosong");return}h(j,!0)}function Ta(){if(!a(i).amount||a(i).amount>a(u)){alert("Jumlah penarikan tidak valid");return}if(!a(i).bankName||!a(i).accountNumber||!a(i).accountName){alert("Harap lengkapi data rekening");return}alert(`Permintaan penarikan berhasil!
Jumlah: ${D(a(i).amount)}
Bank: ${a(i).bankName}
Rekening: ${a(i).accountNumber}

Dana akan ditransfer dalam 1-3 hari kerja.`),h(j,!1),h(i,{amount:0,bankName:"",accountNumber:"",accountName:""})}q(()=>Na,()=>{h(p,Na.filter(n=>n.jastiperId===$a))}),q(()=>a(p),()=>{h(G,a(p).filter(n=>n.type==="income"&&n.status==="pending").reduce((n,o)=>n+o.amount,0))}),q(()=>a(p),()=>{h(u,a(p).filter(n=>n.type==="income"&&n.status==="released").reduce((n,o)=>n+o.amount,0))}),q(()=>a(p),()=>{h(Q,Math.abs(a(p).filter(n=>n.type==="withdrawal").reduce((n,o)=>n+o.amount,0)))}),Ha(),Ya();var na=ve(),ia=La(na);xa(ia,{});var V=l(ia,2),X=l(s(V),2),Y=s(X),Z=l(s(Y),2),ra=l(s(Z),2),Ba=s(ra,!0);t(ra),E(2),t(Z);var Ia=l(Z,2);t(Y);var x=l(Y,2),ma=l(s(x),2),va=l(s(ma),2),Sa=s(va,!0);t(va),E(2),t(ma),t(x);var oa=l(x,2),ca=l(s(oa),2),da=l(s(ca),2),Ra=s(da,!0);t(da),E(2),t(ca),t(oa),t(X);var pa=l(X,2),Ca=l(s(pa),2);{var Ma=n=>{var o=ee();f(n,o)},Pa=n=>{var o=re(),b=s(o),T=l(s(b));Qa(T,5,()=>a(p),B=>B.id,(B,e)=>{var g=ie(),I=s(g),S=s(I,!0);t(I);var A=l(I),R=s(A),N=s(R),J=s(N,!0);t(N);var W=l(N,2);{var F=m=>{var v=te(),$=s(v,!0);t(v),k(()=>d($,(a(e),r(()=>a(e).orderCode)))),f(m,v)};H(W,m=>{a(e),r(()=>a(e).orderCode)&&m(F)})}t(R),t(A);var y=l(A),w=s(y);let K;var O=s(w,!0);t(w),t(y);var C=l(y),M=s(C),L=s(M,!0);t(M),t(C);var c=l(C),aa=s(c);let ua;var Aa=s(aa);t(aa),t(c);var fa=l(c),ha=s(fa),_a=s(ha);{var Ja=m=>{var v=se(),$=s(v);t(v),k(ea=>d($,`Rilis: ${ea??""}`),[()=>(a(e),r(()=>U(a(e).releaseDate)))]),f(m,v)};H(_a,m=>{a(e),r(()=>a(e).status==="pending"&&a(e).releaseDate)&&m(Ja)})}var ba=l(_a,2);{var Wa=m=>{var v=le(),$=s(v);t(v),k(ea=>d($,`Dirilis: ${ea??""}`),[()=>(a(e),r(()=>U(a(e).releasedAt)))]),f(m,v)};H(ba,m=>{a(e),r(()=>a(e).status==="released"&&a(e).releasedAt)&&m(Wa)})}var Fa=l(ba,2);{var Ka=m=>{var v=ne(),$=s(v);t(v),k(()=>d($,`${a(e),r(()=>a(e).bankName)??""} - ${a(e),r(()=>a(e).accountNumber)??""}`)),f(m,v)};H(Fa,m=>{a(e),r(()=>a(e).type==="withdrawal"&&a(e).bankName)&&m(Ka)})}t(ha),t(fa),t(g),k((m,v)=>{d(S,m),d(J,(a(e),r(()=>a(e).description))),K=ga(w,1,"type-badge svelte-9tmhmf",null,K,{income:a(e).type==="income",withdrawal:a(e).type==="withdrawal"}),d(O,(a(e),r(()=>a(e).type==="income"?"Pemasukan":"Penarikan"))),Va(M,`background: ${a(e),r(()=>a(e).status==="completed"?"#dcfce7":a(e).status==="released"?"#dbeafe":"#fef3c7")??""}; color: ${a(e),r(()=>a(e).status==="completed"?"#15803d":a(e).status==="released"?"#1e40af":"#92400e")??""}`),d(L,(a(e),r(()=>a(e).status==="completed"?"Selesai":a(e).status==="released"?"Tersedia":"Tertahan"))),ua=ga(aa,1,"amount svelte-9tmhmf",null,ua,{positive:a(e).amount>0,negative:a(e).amount<0}),d(Aa,`${a(e),r(()=>a(e).amount>0?"+":"")??""}${v??""}`)},[()=>(a(e),r(()=>U(a(e).createdAt))),()=>(a(e),r(()=>D(a(e).amount)))]),f(B,g)}),t(T),t(b),t(o),f(n,o)};H(Ca,n=>{a(p),r(()=>a(p).length===0)?n(Ma):n(Pa,!1)})}t(pa),t(V);var ja=l(V,2);ae(ja,{title:"Tarik Dana",showCancel:!0,cancelText:"Batal",confirmText:"Kirim Permintaan",autoCloseOnConfirm:!1,maxWidth:"700px",get isOpen(){return a(j)},set isOpen(n){h(j,n)},$$events:{cancel:()=>h(j,!1),confirm:Ta},children:(n,o)=>{var b=me(),T=s(b),B=l(s(T),2),e=s(B,!0);t(B),t(T);var g=l(T,2),I=l(s(g),2),S=s(I);ta(S);var A=l(S,2);t(I),t(g);var R=l(g,2),N=l(s(R),2);k(()=>{a(i),Ea(()=>{})});var J=s(N);J.value=J.__value="";var W=l(J);W.value=W.__value="BCA";var F=l(W);F.value=F.__value="Mandiri";var y=l(F);y.value=y.__value="BNI";var w=l(y);w.value=w.__value="BRI";var K=l(w);K.value=K.__value="CIMB Niaga",t(N),t(R);var O=l(R,2),C=l(s(O),2);ta(C),t(O);var M=l(O,2),L=l(s(M),2);ta(L),t(M),E(2),t(b),k(c=>{d(e,c),Ua(S,"max",a(u))},[()=>(a(u),r(()=>D(a(u))))]),sa(S,()=>a(i).amount,c=>z(i,a(i).amount=c)),ka("click",A,()=>z(i,a(i).amount=a(u))),Xa(N,()=>a(i).bankName,c=>z(i,a(i).bankName=c)),sa(C,()=>a(i).accountNumber,c=>z(i,a(i).accountNumber=c)),sa(L,()=>a(i).accountName,c=>z(i,a(i).accountName=c)),f(n,b)},$$slots:{default:!0},$$legacy:!0}),k((n,o,b)=>{d(Ba,n),d(Sa,o),d(Ra,b)},[()=>(a(u),r(()=>D(a(u)))),()=>(a(G),r(()=>D(a(G)))),()=>(a(Q),r(()=>D(a(Q))))]),ka("click",Ia,Da),f(ya,na),qa()}export{Be as component};

import{f as _,a as m}from"../chunks/CUf5UZYF.js";import"../chunks/BoQy5TvO.js";import{o as ie}from"../chunks/JjBbrouE.js";import{a6 as re,a7 as qa,a8 as oe,a9 as Da,ab as ve,i as e,z as q,ac as s,k as D,a4 as c,a5 as n,aa as g,u as x,af as pe,ae as u}from"../chunks/C6kp5iGx.js";import{e as r,s as k}from"../chunks/Dvw9CKj1.js";import{i as H}from"../chunks/BMTi0gWB.js";import{b as de,e as h,i as R}from"../chunks/DPurX8ys.js";import{r as la}from"../chunks/CK8WfoRq.js";import{s as w}from"../chunks/D6eV9jrv.js";import{b as M}from"../chunks/BXzdIX3i.js";import{i as ue}from"../chunks/BvILkHPm.js";import{s as me,a as _e}from"../chunks/B2umgvaE.js";import{p as xe}from"../chunks/CG_yMqQE.js";import{g as Ha}from"../chunks/BqC4448f.js";import{N as be}from"../chunks/CAlpgxxh.js";import{o as fe}from"../chunks/tGRDOfAf.js";var ge=_('<div class="not-found svelte-18cpxcn"><h2 class="svelte-18cpxcn">Pesanan tidak ditemukan</h2> <a href="/orders" class="btn-back svelte-18cpxcn">Kembali ke Pesanan</a></div>'),ke=_("<button>â˜…</button>"),he=_('<p class="rating-text svelte-18cpxcn"> </p>'),Re=_("<button>â˜…</button>"),we=_("<button>â˜…</button>"),ye=_("<button>â˜…</button>"),Ce=_("<button>â˜…</button>"),Ke=_('<button class="btn-remove svelte-18cpxcn">Ã—</button>'),Pe=_('<div class="input-row svelte-18cpxcn"><input type="text" placeholder="Contoh: Cepat &amp; responsif" class="svelte-18cpxcn"/> <!></div>'),Ae=_('<button class="btn-remove svelte-18cpxcn">Ã—</button>'),Be=_('<div class="input-row svelte-18cpxcn"><input type="text" placeholder="Contoh: Harga sedikit mahal" class="svelte-18cpxcn"/> <!></div>'),Te=_('<div class="header svelte-18cpxcn"><h1 class="svelte-18cpxcn">Beri Rating & Ulasan</h1> <p class="svelte-18cpxcn">Bagikan pengalaman Anda dengan pesanan ini</p></div> <div class="review-grid svelte-18cpxcn"><div class="order-summary svelte-18cpxcn"><h3 class="svelte-18cpxcn">Pesanan Anda</h3> <div class="order-info svelte-18cpxcn"><div class="info-row svelte-18cpxcn"><span class="label svelte-18cpxcn">Kode Pesanan</span> <span class="value svelte-18cpxcn"> </span></div> <div class="info-row svelte-18cpxcn"><span class="label svelte-18cpxcn">Produk</span> <span class="value svelte-18cpxcn"> </span></div> <div class="info-row svelte-18cpxcn"><span class="label svelte-18cpxcn">Negara</span> <span class="value svelte-18cpxcn"> </span></div> <div class="info-row svelte-18cpxcn"><span class="label svelte-18cpxcn">Toko</span> <span class="value svelte-18cpxcn"> </span></div></div></div> <div class="review-form svelte-18cpxcn"><div class="rating-section svelte-18cpxcn"><h3 class="svelte-18cpxcn">Rating Keseluruhan *</h3> <p class="section-desc svelte-18cpxcn">Berapa rating Anda untuk pesanan ini?</p> <div class="stars-large svelte-18cpxcn"></div> <!></div> <div class="category-ratings svelte-18cpxcn"><h3 class="svelte-18cpxcn">Rating Detail</h3> <div class="rating-item svelte-18cpxcn"><span class="rating-label svelte-18cpxcn">Kualitas Layanan</span> <div class="stars svelte-18cpxcn"></div></div> <div class="rating-item svelte-18cpxcn"><span class="rating-label svelte-18cpxcn">Kecepatan Proses</span> <div class="stars svelte-18cpxcn"></div></div> <div class="rating-item svelte-18cpxcn"><span class="rating-label svelte-18cpxcn">Kualitas Produk</span> <div class="stars svelte-18cpxcn"></div></div> <div class="rating-item svelte-18cpxcn"><span class="rating-label svelte-18cpxcn">Komunikasi</span> <div class="stars svelte-18cpxcn"></div></div></div> <div class="form-section svelte-18cpxcn"><label class="svelte-18cpxcn">Judul Ulasan *</label> <input type="text" placeholder="Contoh: Pelayanan cepat dan produk sesuai" maxlength="100" class="svelte-18cpxcn"/></div> <div class="form-section svelte-18cpxcn"><label class="svelte-18cpxcn">Tulis Ulasan Anda *</label> <textarea placeholder="Ceritakan pengalaman Anda... (minimal 20 karakter)" rows="6" class="svelte-18cpxcn"></textarea> <span class="char-count svelte-18cpxcn"> </span></div> <div class="pros-cons-grid svelte-18cpxcn"><div class="form-section svelte-18cpxcn"><label class="svelte-18cpxcn">Kelebihan (Opsional)</label> <div class="multi-input svelte-18cpxcn"><!> <button class="btn-add-small svelte-18cpxcn">+ Tambah</button></div></div> <div class="form-section svelte-18cpxcn"><label class="svelte-18cpxcn">Kekurangan (Opsional)</label> <div class="multi-input svelte-18cpxcn"><!> <button class="btn-add-small svelte-18cpxcn">+ Tambah</button></div></div></div> <div class="form-section svelte-18cpxcn"><label class="svelte-18cpxcn">Upload Foto (Opsional)</label> <div class="upload-area svelte-18cpxcn"><span class="upload-icon svelte-18cpxcn">ğŸ“·</span> <p class="svelte-18cpxcn">Klik untuk upload foto produk</p> <span class="upload-hint svelte-18cpxcn">Max 5 foto, masing-masing 3MB</span></div></div> <div class="recommendation svelte-18cpxcn"><span class="svelte-18cpxcn">Apakah Anda merekomendasikan jastiper ini?</span> <div class="recommendation-buttons svelte-18cpxcn"><button>ğŸ‘ Ya</button> <button>ğŸ‘ Tidak</button></div></div> <button class="btn-submit svelte-18cpxcn"> </button></div></div>',1),Ue=_('<!> <div class="container svelte-18cpxcn"><!></div>',1);function Ee(Ma,Oa){re(Oa,!1);const O=()=>_e(xe,"$page",Fa),[Fa,Ia]=me(),U=q(),f=q();let ia="guest";de.subscribe(l=>{ia=l.role}),ie(()=>{ia!=="user"&&Ha(`/login?redirect=/review/${O().params.orderCode}&expected=user`)});let a=q({rating:0,serviceRating:0,speedRating:0,productQualityRating:0,communicationRating:0,title:"",comment:"",pros:[""],cons:[""],wouldRecommend:!0,uploadedImages:[]}),$=0,F="",C=q(!1);function K(l,p){l==="overall"?u(a,e(a).rating=p):l==="service"?u(a,e(a).serviceRating=p):l==="speed"?u(a,e(a).speedRating=p):l==="quality"?u(a,e(a).productQualityRating=p):l==="communication"&&u(a,e(a).communicationRating=p)}function P(l,p){$=p,F=l}function A(){$=0,F=""}function B(l,p){return F===l&&$>0?$:p}function La(){u(a,e(a).pros=[...e(a).pros,""])}function Na(l){u(a,e(a).pros=e(a).pros.filter((p,y)=>y!==l))}function Qa(){u(a,e(a).cons=[...e(a).cons,""])}function ja(l){u(a,e(a).cons=e(a).cons.filter((p,y)=>y!==l))}function za(){alert("Fitur upload gambar akan segera hadir!")}function Ja(){if(e(a).rating===0){alert("Harap berikan rating keseluruhan!");return}if(!e(a).title||!e(a).comment){alert("Harap isi judul dan ulasan!");return}if(e(a).comment.length<20){alert("Ulasan harus minimal 20 karakter!");return}D(C,!0),setTimeout(()=>{const l={orderCode:e(U),...e(a),pros:e(a).pros.filter(p=>p.trim()!==""),cons:e(a).cons.filter(p=>p.trim()!==""),submittedAt:new Date().toISOString()};console.log("Review submitted:",l),alert("Terima kasih atas ulasan Anda! â­"),D(C,!1),Ha("/orders")},1e3)}qa(()=>O(),()=>{D(U,O().params.orderCode)}),qa(()=>e(U),()=>{D(f,fe.find(l=>l.code===e(U)))}),oe(),ue();var ra=Ue(),oa=Da(ra);be(oa,{});var va=s(oa,2),Ya=c(va);{var Ea=l=>{var p=ge();m(l,p)},Ga=l=>{var p=Te(),y=s(Da(p),2),I=c(y),pa=s(c(I),2),L=c(pa),da=s(c(L),2),Va=c(da,!0);n(da),n(L);var N=s(L,2),ua=s(c(N),2),Wa=c(ua,!0);n(ua),n(N);var Q=s(N,2),ma=s(c(Q),2),Xa=c(ma,!0);n(ma),n(Q);var _a=s(Q,2),xa=s(c(_a),2),Za=c(xa,!0);n(xa),n(_a),n(pa),n(I);var ba=s(I,2),j=c(ba),z=s(c(j),4);h(z,4,()=>[1,2,3,4,5],R,(v,i)=>{var t=ke();let o;g(d=>o=w(t,1,"star-btn large svelte-18cpxcn",null,o,d),[()=>({filled:B("overall",e(a).rating)>=i})]),r("click",t,()=>K("overall",i)),r("mouseenter",t,()=>P("overall",i)),r("mouseleave",t,A),m(v,t)}),n(z);var ae=s(z,2);{var ee=v=>{var i=he(),t=c(i,!0);n(i),g(()=>k(t,(e(a),x(()=>e(a).rating===5?"Luar Biasa!":e(a).rating===4?"Sangat Baik":e(a).rating===3?"Baik":e(a).rating===2?"Cukup":"Kurang Baik")))),m(v,i)};H(ae,v=>{e(a),x(()=>e(a).rating>0)&&v(ee)})}n(j);var J=s(j,2),Y=s(c(J),2),fa=s(c(Y),2);h(fa,4,()=>[1,2,3,4,5],R,(v,i)=>{var t=Re();let o;g(d=>o=w(t,1,"star-btn svelte-18cpxcn",null,o,d),[()=>({filled:B("service",e(a).serviceRating)>=i})]),r("click",t,()=>K("service",i)),r("mouseenter",t,()=>P("service",i)),r("mouseleave",t,A),m(v,t)}),n(fa),n(Y);var E=s(Y,2),ga=s(c(E),2);h(ga,4,()=>[1,2,3,4,5],R,(v,i)=>{var t=we();let o;g(d=>o=w(t,1,"star-btn svelte-18cpxcn",null,o,d),[()=>({filled:B("speed",e(a).speedRating)>=i})]),r("click",t,()=>K("speed",i)),r("mouseenter",t,()=>P("speed",i)),r("mouseleave",t,A),m(v,t)}),n(ga),n(E);var G=s(E,2),ka=s(c(G),2);h(ka,4,()=>[1,2,3,4,5],R,(v,i)=>{var t=ye();let o;g(d=>o=w(t,1,"star-btn svelte-18cpxcn",null,o,d),[()=>({filled:B("quality",e(a).productQualityRating)>=i})]),r("click",t,()=>K("quality",i)),r("mouseenter",t,()=>P("quality",i)),r("mouseleave",t,A),m(v,t)}),n(ka),n(G);var ha=s(G,2),Ra=s(c(ha),2);h(Ra,4,()=>[1,2,3,4,5],R,(v,i)=>{var t=Ce();let o;g(d=>o=w(t,1,"star-btn svelte-18cpxcn",null,o,d),[()=>({filled:B("communication",e(a).communicationRating)>=i})]),r("click",t,()=>K("communication",i)),r("mouseenter",t,()=>P("communication",i)),r("mouseleave",t,A),m(v,t)}),n(Ra),n(ha),n(J);var V=s(J,2),wa=s(c(V),2);la(wa),n(V);var W=s(V,2),X=s(c(W),2);pe(X);var ya=s(X,2),se=c(ya);n(ya),n(W);var Z=s(W,2),aa=c(Z),Ca=s(c(aa),2),Ka=c(Ca);h(Ka,1,()=>(e(a),x(()=>e(a).pros)),R,(v,i,t)=>{var o=Pe(),d=c(o);la(d);var na=s(d,2);{var ca=b=>{var T=Ke();r("click",T,()=>Na(t)),m(b,T)};H(na,b=>{e(a),x(()=>e(a).pros.length>1)&&b(ca)})}n(o),M(d,()=>e(a).pros[t],b=>u(a,e(a).pros[t]=b)),m(v,o)});var te=s(Ka,2);n(Ca),n(aa);var Pa=s(aa,2),Aa=s(c(Pa),2),Ba=c(Aa);h(Ba,1,()=>(e(a),x(()=>e(a).cons)),R,(v,i,t)=>{var o=Be(),d=c(o);la(d);var na=s(d,2);{var ca=b=>{var T=Ae();r("click",T,()=>ja(t)),m(b,T)};H(na,b=>{e(a),x(()=>e(a).cons.length>1)&&b(ca)})}n(o),M(d,()=>e(a).cons[t],b=>u(a,e(a).cons[t]=b)),m(v,o)});var ne=s(Ba,2);n(Aa),n(Pa),n(Z);var ea=s(Z,2),ce=s(c(ea),2);n(ea);var sa=s(ea,2),Ta=s(c(sa),2),ta=c(Ta);let Ua;var $a=s(ta,2);let Sa;n(Ta),n(sa);var S=s(sa,2),le=c(S,!0);n(S),n(ba),n(y),g(()=>{k(Va,(e(f),x(()=>e(f).code))),k(Wa,(e(f),x(()=>e(f).product))),k(Xa,(e(f),x(()=>e(f).country))),k(Za,(e(f),x(()=>e(f).store))),k(se,`${e(a),x(()=>e(a).comment.length)??""} karakter`),Ua=w(ta,1,"rec-btn svelte-18cpxcn",null,Ua,{active:e(a).wouldRecommend}),Sa=w($a,1,"rec-btn svelte-18cpxcn",null,Sa,{active:!e(a).wouldRecommend}),S.disabled=(e(C),e(a),x(()=>e(C)||e(a).rating===0)),k(le,e(C)?"Mengirim...":"Kirim Ulasan")}),M(wa,()=>e(a).title,v=>u(a,e(a).title=v)),M(X,()=>e(a).comment,v=>u(a,e(a).comment=v)),r("click",te,La),r("click",ne,Qa),r("click",ce,za),r("click",ta,()=>u(a,e(a).wouldRecommend=!0)),r("click",$a,()=>u(a,e(a).wouldRecommend=!1)),r("click",S,Ja),m(l,p)};H(Ya,l=>{e(f)?l(Ga,!1):l(Ea)})}n(va),m(Ma,ra),ve(),Ia()}export{Ee as component};

import{f as m,a as v,c as N}from"../chunks/CUf5UZYF.js";import"../chunks/BoQy5TvO.js";import{o as na,g as ra}from"../chunks/JjBbrouE.js";import{a6 as oa,ab as va,ac as r,a4 as t,i as e,z as la,a5 as s,a9 as R,aa as ca,k as q}from"../chunks/C6kp5iGx.js";import{s as u,e as B}from"../chunks/Dvw9CKj1.js";import{i as M}from"../chunks/BMTi0gWB.js";import{b as da,e as ma}from"../chunks/DPurX8ys.js";import{i as pa}from"../chunks/BvILkHPm.js";import{g as z}from"../chunks/BqC4448f.js";import{S as ua}from"../chunks/MSclBbtX.js";import{o as ka,s as ga}from"../chunks/tGRDOfAf.js";var ha=m('<p class="empty svelte-tw5h6k">Belum ada permintaan baru. Pesanan yang menunggu akan tampil di sini untuk kamu ambil.</p>'),_a=m('<div class="actions svelte-tw5h6k"><button class="primary svelte-tw5h6k" type="button">Ambil Pesanan</button> <button class="ghost danger svelte-tw5h6k" type="button">Tolak Pesanan</button></div>'),fa=m('<div class="accepted svelte-tw5h6k">✅ Pesanan diambil. Lanjutkan ke halaman negosiasi. <button class="primary svelte-tw5h6k" type="button">Buka Halaman Negosiasi</button></div>'),ba=m('<div class="declined svelte-tw5h6k">❌ Pesanan ditolak. Sistem akan mengirim notifikasi ke pengguna.</div>'),wa=m('<article class="card svelte-tw5h6k"><header class="svelte-tw5h6k"><div><h2 class="svelte-tw5h6k"> </h2> <p class="svelte-tw5h6k"> </p></div> <!></header> <div class="info svelte-tw5h6k"><div><span class="svelte-tw5h6k">Produk</span> <strong> </strong></div> <div><span class="svelte-tw5h6k">Variasi</span> <strong> </strong></div> <div><span class="svelte-tw5h6k">Estimasi Total</span> <strong> </strong></div></div> <!></article>'),xa=m(`<section class="pending svelte-tw5h6k"><a class="back-link svelte-tw5h6k" href="/admin">← Kembali</a> <header class="svelte-tw5h6k"><div><h1 class="svelte-tw5h6k">Antrian Permintaan Baru</h1> <p class="svelte-tw5h6k">Terima atau tolak permintaan pengguna sebelum masuk tahap negosiasi. Setelah diterima,
        lanjutkan ke halaman review untuk penanganan detail.</p></div> <a href="/admin" class="back svelte-tw5h6k">← Kembali ke Dashboard</a></header> <div class="list svelte-tw5h6k"><!></div></section>`);function Na(E,H){oa(H,!1);const I=ka.filter(a=>a.status==="Menunggu_Review_Admin").map(a=>({...a,state:"pending"}));let l=la(I);na(()=>{const{role:a}=ra(da);a!=="admin"&&z("/login?redirect=/admin/pending&expected=admin")});function Q(a){q(l,e(l).map(i=>i.code===a?{...i,state:"accepted"}:i))}function V(a){q(l,e(l).map(i=>i.code===a?{...i,state:"declined"}:i))}function C(a){z(`/admin/review/${a}?mode=negosiasi`)}pa();var g=xa(),T=r(t(g),4),F=t(T);{var G=a=>{var i=ha();v(a,i)},J=a=>{var i=N(),O=R(i);ma(O,1,()=>e(l),h=>h.code,(h,n)=>{var _=wa(),f=t(_),b=t(f),w=t(b),U=t(w,!0);s(w);var A=r(w,2),W=t(A);s(A),s(b);var X=r(b,2);ua(X,{get statusMeta(){return ga},get status(){return e(n).status}}),s(f);var x=r(f,2),y=t(x),j=r(t(y),2),Y=t(j,!0);s(j),s(y);var P=r(y,2),D=r(t(P),2),Z=t(D,!0);s(D),s(P);var K=r(P,2),L=r(t(K),2),$=t(L);s(L),s(K),s(x);var aa=r(x,2);{var ta=o=>{var c=_a(),k=t(c),S=r(k,2);s(c),B("click",k,()=>Q(e(n).code)),B("click",S,()=>V(e(n).code)),v(o,c)},ea=o=>{var c=N(),k=R(c);{var S=d=>{var p=fa(),ia=r(t(p));s(p),B("click",ia,()=>C(e(n).code)),v(d,p)},sa=d=>{var p=ba();v(d,p)};M(k,d=>{e(n).state==="accepted"?d(S):d(sa,!1)},!0)}v(o,c)};M(aa,o=>{e(n).state==="pending"?o(ta):o(ea,!1)})}s(_),ca(o=>{u(U,e(n).code),u(W,`${e(n).store??""} · ${e(n).country??""}`),u(Y,e(n).product),u(Z,e(n).variations),u($,`Rp ${o??""}`)},[()=>e(n).estimate.toLocaleString("id-ID")]),v(h,_)}),v(a,i)};M(F,a=>{e(l).length===0?a(G):a(J,!1)})}s(T),s(g),v(E,g),va()}export{Na as component};

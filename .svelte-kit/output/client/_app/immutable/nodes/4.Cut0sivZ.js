import{f as w,a as g}from"../chunks/CUf5UZYF.js";import"../chunks/BoQy5TvO.js";import{o as ke,g as De}from"../chunks/JjBbrouE.js";import{a6 as Re,aa as _,ab as Te,ac as r,a4 as t,a5 as e,a2 as K,i as l}from"../chunks/C6kp5iGx.js";import{s as i}from"../chunks/Dvw9CKj1.js";import{e as x,b as Pe,i as y}from"../chunks/DPurX8ys.js";import{s as $e}from"../chunks/CK8WfoRq.js";import{s as Ae}from"../chunks/D6eV9jrv.js";import{s as ve}from"../chunks/BfAcoFpJ.js";import{i as Se}from"../chunks/BvILkHPm.js";import{g as Je}from"../chunks/BqC4448f.js";import{o as O,j as k,l as D,a as j,k as Me}from"../chunks/tGRDOfAf.js";var Ie=w('<div class="kpi-card svelte-1jef3w8"><span class="label svelte-1jef3w8"> </span> <strong class="svelte-1jef3w8"> </strong></div>'),Ne=w('<tr class="svelte-1jef3w8"><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><a class="link-inline svelte-1jef3w8"> </a></td><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><span> </span></td><td class="svelte-1jef3w8"> </td></tr>'),Ce=w('<div class="summary-chip svelte-1jef3w8"><span class="chip-label svelte-1jef3w8"> </span> <strong> </strong></div>'),Fe=w('<div class="listing-card svelte-1jef3w8"><div class="listing-icon svelte-1jef3w8"> </div> <div><h3 class="svelte-1jef3w8"> </h3> <p class="svelte-1jef3w8"> </p> <div class="listing-meta svelte-1jef3w8"><span> </span> <span> </span></div></div></div>'),Le=w('<div class="jastiper-row svelte-1jef3w8"><div class="avatar svelte-1jef3w8"> </div> <div class="info svelte-1jef3w8"><strong> </strong> <span class="svelte-1jef3w8"> </span></div> <div class="rating svelte-1jef3w8"> </div></div>'),qe=w('<section class="admin svelte-1jef3w8"><header class="svelte-1jef3w8"><div><h1 class="svelte-1jef3w8">Dashboard Admin</h1> <p>Monitor antrian permintaan dan tindak lanjuti secara real-time.</p></div></header> <div class="kpis svelte-1jef3w8"></div> <section class="insights svelte-1jef3w8"><article class="panel transactions-panel svelte-1jef3w8"><div class="panel-header svelte-1jef3w8"><div><h2 class="svelte-1jef3w8">Ringkasan Transaksi</h2> <p class="svelte-1jef3w8">Performa escrow, release, dan payout jastiper.</p></div> <a href="/admin/transactions" class="panel-link svelte-1jef3w8">Kelola</a></div> <div class="transaction-stats svelte-1jef3w8"><div class="stat-card svelte-1jef3w8"><span class="label svelte-1jef3w8">Volume 30 hari</span> <strong> </strong></div> <div class="stat-card svelte-1jef3w8"><span class="label svelte-1jef3w8">Dana Ditahan</span> <strong> </strong> <small class="svelte-1jef3w8">menunggu bukti kirim</small></div> <div class="stat-card svelte-1jef3w8"><span class="label svelte-1jef3w8">Payout Pending</span> <strong> </strong> <small class="svelte-1jef3w8">butuh approval</small></div> <div class="stat-card svelte-1jef3w8"><span class="label svelte-1jef3w8">Payout Release</span> <strong> </strong> <small class="svelte-1jef3w8">siap dicairkan</small></div></div> <div class="table-wrapper svelte-1jef3w8"><table class="svelte-1jef3w8"><thead class="svelte-1jef3w8"><tr><th class="svelte-1jef3w8">Tanggal</th><th class="svelte-1jef3w8">Order</th><th class="svelte-1jef3w8">Jastiper</th><th class="svelte-1jef3w8">Status</th><th class="svelte-1jef3w8">Jumlah</th></tr></thead><tbody class="svelte-1jef3w8"></tbody></table></div></article> <article class="panel listings-panel svelte-1jef3w8"><div class="panel-header svelte-1jef3w8"><div><h2 class="svelte-1jef3w8">Ringkasan Postingan</h2> <p class="svelte-1jef3w8">Aktivitas konten jastip, preloved dan event.</p></div> <a href="/admin/posts" class="panel-link svelte-1jef3w8">Moderasi</a></div> <div class="listing-summary svelte-1jef3w8"></div> <div class="top-listings svelte-1jef3w8"></div></article> <article class="panel jastiper-panel svelte-1jef3w8"><div class="panel-header svelte-1jef3w8"><div><h2 class="svelte-1jef3w8">Performa Jastiper</h2> <p class="svelte-1jef3w8">Gap supply, rating, dan top performers.</p></div> <a href="/admin/jastiper" class="panel-link svelte-1jef3w8">Review</a></div> <div class="jastiper-stats svelte-1jef3w8"><div><span class="label svelte-1jef3w8">Terverifikasi</span> <strong> </strong></div> <div><span class="label svelte-1jef3w8">Menunggu</span> <strong> </strong></div> <div><span class="label svelte-1jef3w8">Rata-rata Rating</span> <strong> </strong></div></div> <div class="top-jastipers svelte-1jef3w8"></div></article></section></section>');function Ye(ne,de){Re(de,!1),O.filter(a=>a.status==="Menunggu_Review_Admin"),O.filter(a=>a.status==="Perlu_Negosiasi"),O.filter(a=>a.status!=="Menunggu_Review_Admin"&&a.status!=="Perlu_Negosiasi");const R={volume:k.reduce((a,s)=>a+s.amount,0),held:k.filter(a=>a.status==="held").length,pending:k.filter(a=>a.status==="pending").length,released:k.filter(a=>a.status==="released").length},oe=[...k].sort((a,s)=>new Date(s.createdAt)-new Date(a.createdAt)).slice(0,5),ce=[{label:"Listing Aktif",value:D.filter(a=>a.status==="available").length,accent:"#0ea5e9"},{label:"Tipe Jastip",value:D.filter(a=>a.type==="jastip").length,accent:"#22c55e"},{label:"Tipe Preloved",value:D.filter(a=>a.type==="preloved").length,accent:"#f97316"},{label:"Event Aktif",value:D.filter(a=>a.type==="event").length,accent:"#a855f7"}],pe=[...D].sort((a,s)=>(s.sold??0)-(a.sold??0)).slice(0,3),T={verified:j.filter(a=>a.status==="verified"||a.verified).length,pending:j.filter(a=>a.status!=="verified"&&!a.verified).length,avgRating:j.length>0?(j.reduce((a,s)=>a+s.rating,0)/j.length).toFixed(1):"0.0"},fe=[...j].sort((a,s)=>s.rating-a.rating||s.totalTrips-a.totalTrips).slice(0,3);function V(a){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(a)}function ue(a){return new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"short"})}ke(()=>{const{role:a}=De(Pe);a!=="admin"&&Je("/login?redirect=/admin&expected=admin")}),Se();var P=qe(),$=r(t(P),2);x($,5,()=>Me,y,(a,s)=>{var v=Ie(),n=t(v),p=t(n,!0);e(n);var d=r(n,2),o=t(d,!0);e(d),e(v),_(()=>{ve(v,`--color: ${l(s).color}`),i(p,l(s).label),i(o,l(s).value)}),g(a,v)}),e($);var z=r($,2),A=t(z),S=r(t(A),2),J=t(S),B=r(t(J),2),ge=t(B,!0);e(B),e(J);var M=r(J,2),H=r(t(M),2),_e=t(H,!0);e(H),K(2),e(M);var I=r(M,2),Q=r(t(I),2),je=t(Q,!0);e(Q),K(2),e(I);var U=r(I,2),W=r(t(U),2),we=t(W,!0);e(W),K(2),e(U),e(S);var X=r(S,2),Y=t(X),Z=r(t(Y));x(Z,5,()=>oe,y,(a,s)=>{var v=Ne(),n=t(v),p=t(n,!0);e(n);var d=r(n),o=t(d),m=t(o,!0);e(o),e(d);var c=r(d),h=t(c,!0);e(c);var f=r(c),u=t(f),E=t(u,!0);e(u),e(f);var b=r(f),G=t(b,!0);e(b),e(v),_((xe,ye)=>{i(p,xe),$e(o,"href",`/admin/orders/${l(s).orderCode}`),i(m,l(s).orderCode),i(h,l(s).jastiperName),Ae(u,1,`status-chip ${l(s).status}`,"svelte-1jef3w8"),i(E,l(s).status==="held"?"Ditahan":l(s).status==="released"?"Tersedia":l(s).status==="pending"?"Pending":"Selesai"),i(G,ye)},[()=>ue(l(s).createdAt),()=>V(l(s).amount)]),g(a,v)}),e(Z),e(Y),e(X),e(A);var N=r(A,2),C=r(t(N),2);x(C,5,()=>ce,y,(a,s)=>{var v=Ce(),n=t(v),p=t(n,!0);e(n);var d=r(n,2),o=t(d,!0);e(d),e(v),_(()=>{ve(v,`--accent: ${l(s).accent}`),i(p,l(s).label),i(o,l(s).value)}),g(a,v)}),e(C);var ee=r(C,2);x(ee,5,()=>pe,y,(a,s)=>{var v=Fe(),n=t(v),p=t(n,!0);e(n);var d=r(n,2),o=t(d),m=t(o,!0);e(o);var c=r(o,2),h=t(c,!0);e(c);var f=r(c,2),u=t(f),E=t(u,!0);e(u);var b=r(u,2),G=t(b);e(b),e(f),e(d),e(v),_(()=>{i(p,l(s).images[0]),i(m,l(s).title),i(h,l(s).country),i(E,l(s).type==="jastip"?"Jastip":l(s).type),i(G,`${l(s).sold??0??""}/${l(s).quota??0??""} slot`)}),g(a,v)}),e(ee),e(N);var ae=r(N,2),F=r(t(ae),2),L=t(F),te=r(t(L),2),me=t(te,!0);e(te),e(L);var q=r(L,2),se=r(t(q),2),he=t(se,!0);e(se),e(q);var re=r(q,2),le=r(t(re),2),be=t(le,!0);e(le),e(re),e(F);var ie=r(F,2);x(ie,5,()=>fe,y,(a,s)=>{var v=Le(),n=t(v),p=t(n,!0);e(n);var d=r(n,2),o=t(d),m=t(o,!0);e(o);var c=r(o,2),h=t(c);e(c),e(d);var f=r(d,2),u=t(f);e(f),e(v),_(()=>{i(p,l(s).avatar),i(m,l(s).name),i(h,`${l(s).country??""} · ${l(s).totalTrips??""} trip`),i(u,`⭐ ${l(s).rating??""}`)}),g(a,v)}),e(ie),e(ae),e(z),e(P),_(a=>{i(ge,a),i(_e,R.held),i(je,R.pending),i(we,R.released),i(me,T.verified),i(he,T.pending),i(be,T.avgRating)},[()=>V(R.volume)]),g(ne,P),Te()}export{Ye as component};

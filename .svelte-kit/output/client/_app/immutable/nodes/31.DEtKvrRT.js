import{f as p,a as f}from"../chunks/CUf5UZYF.js";import"../chunks/BoQy5TvO.js";import{o as Wa}from"../chunks/JjBbrouE.js";import{a6 as Xa,a7 as Ya,a8 as Za,a9 as ae,aa as h,i as a,ab as ee,z as G,ac as i,a4 as v,u as l,M as k,k as H,a5 as s,a2 as P,ad as te}from"../chunks/C6kp5iGx.js";import{s as o,e as J}from"../chunks/Dvw9CKj1.js";import{i as x}from"../chunks/BMTi0gWB.js";import{b as se,e as Da,i as ve}from"../chunks/DPurX8ys.js";import{r as ie}from"../chunks/CK8WfoRq.js";import{s as le}from"../chunks/BfAcoFpJ.js";import{b as re}from"../chunks/BXzdIX3i.js";import{b as de}from"../chunks/oa8gdtCF.js";import{i as oe}from"../chunks/BvILkHPm.js";import{g as U}from"../chunks/BqC4448f.js";import{b as n}from"../chunks/tGRDOfAf.js";import{N as ue}from"../chunks/CAlpgxxh.js";var ne=p("<option> </option>"),ce=p('<div class="payment-amount svelte-o1fu7"> </div>'),fe=p('<div class="date-item svelte-o1fu7"><span class="date-label svelte-o1fu7">Dibayar:</span> <span class="date-value svelte-o1fu7"> </span></div>'),pe=p('<div class="date-item svelte-o1fu7"><span class="date-label svelte-o1fu7">Dibeli:</span> <span class="date-value svelte-o1fu7"> </span></div>'),_e=p('<button class="btn-primary svelte-o1fu7">Tandai Sudah Dibeli</button>'),me=p('<button class="btn-primary svelte-o1fu7">Atur Pengiriman</button>'),be=p('<div class="order-card svelte-o1fu7"><div class="order-header svelte-o1fu7"><div class="order-code-section svelte-o1fu7"><span class="order-code svelte-o1fu7"> </span> <span class="status-badge svelte-o1fu7"> </span></div> <div class="order-date svelte-o1fu7"> </div></div> <div class="order-content svelte-o1fu7"><div class="buyer-info"><div class="info-label svelte-o1fu7">Pembeli</div> <div class="buyer-name svelte-o1fu7"> </div> <div class="buyer-phone svelte-o1fu7"> </div></div> <div class="product-info"><div class="info-label svelte-o1fu7">Produk</div> <div class="product-name svelte-o1fu7"> </div> <div class="product-meta svelte-o1fu7"> </div></div> <div class="payment-info"><div class="info-label svelte-o1fu7">Pembayaran</div> <div class="payment-method svelte-o1fu7"> </div> <!> <div class="total-amount svelte-o1fu7"> </div></div> <div class="dates-info svelte-o1fu7"><!> <!></div></div> <div class="order-actions svelte-o1fu7"><button class="btn-secondary svelte-o1fu7">Lihat Detail</button> <!> <!></div></div>'),he=p('<div class="empty-state svelte-o1fu7"><div class="empty-icon svelte-o1fu7">ğŸ“¦</div> <h3 class="svelte-o1fu7">Belum ada pesanan</h3> <p class="svelte-o1fu7">Pesanan dari pembeli akan muncul di sini</p></div>'),ge=p('<!> <div class="container svelte-o1fu7"><div class="header svelte-o1fu7"><h1 class="svelte-o1fu7">Pesanan Masuk</h1> <p class="svelte-o1fu7">Kelola semua pesanan dari pembeli</p></div> <div class="stats-cards svelte-o1fu7"><div class="stat-card svelte-o1fu7"><div class="stat-icon svelte-o1fu7" style="background: #fef3c7;">â³</div> <div class="stat-content svelte-o1fu7"><div class="stat-value svelte-o1fu7"> </div> <div class="stat-label svelte-o1fu7">Menunggu Pembayaran</div></div></div> <div class="stat-card svelte-o1fu7"><div class="stat-icon svelte-o1fu7" style="background: #dbeafe;">ğŸ’°</div> <div class="stat-content svelte-o1fu7"><div class="stat-value svelte-o1fu7"> </div> <div class="stat-label svelte-o1fu7">Sudah Dibayar</div></div></div> <div class="stat-card svelte-o1fu7"><div class="stat-icon svelte-o1fu7" style="background: #e9d5ff;">ğŸ›ï¸</div> <div class="stat-content svelte-o1fu7"><div class="stat-value svelte-o1fu7"> </div> <div class="stat-label svelte-o1fu7">Barang Dibeli</div></div></div> <div class="stat-card svelte-o1fu7"><div class="stat-icon svelte-o1fu7" style="background: #d1fae5;">âœ…</div> <div class="stat-content svelte-o1fu7"><div class="stat-value svelte-o1fu7"> </div> <div class="stat-label svelte-o1fu7">Selesai</div></div></div></div> <div class="filters svelte-o1fu7"><div class="search-box svelte-o1fu7"><span class="search-icon svelte-o1fu7">ğŸ”</span> <input type="text" placeholder="Cari kode pesanan, pembeli, atau produk..." class="svelte-o1fu7"/></div> <select class="svelte-o1fu7"></select></div> <div class="results-info svelte-o1fu7"> </div> <div class="orders-list svelte-o1fu7"></div> <!></div>',1);function Oe(xa,ka){Xa(ka,!1);const g=G();let V="guest";se.subscribe(t=>{V=t.role}),Wa(()=>{if(V!=="jastiper"){U("/login?redirect=/jastiper/orders&expected=jastiper");return}});let y=G("all"),_=G("");const Pa=[{value:"all",label:"Semua Status"},{value:"waiting_payment",label:"Menunggu Pembayaran"},{value:"paid",label:"Sudah Dibayar"},{value:"purchased",label:"Barang Dibeli"},{value:"shipping",label:"Dalam Pengiriman"},{value:"delivered",label:"Terkirim"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"}];function W(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t)}function S(t){return t?new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-"}function X(t){return{waiting_payment:{label:"Menunggu Pembayaran",color:"#f59e0b"},paid:{label:"Sudah Dibayar",color:"#0ea5e9"},dp_paid:{label:"DP Dibayar",color:"#06b6d4"},purchased:{label:"Barang Dibeli",color:"#8b5cf6"},shipping:{label:"Dalam Pengiriman",color:"#3b82f6"},delivered:{label:"Terkirim",color:"#10b981"},completed:{label:"Selesai",color:"#059669"},cancelled:{label:"Dibatalkan",color:"#ef4444"}}[t]||{label:t,color:"#64748b"}}function Sa(t,e){alert(`Order ${t} status updated to: ${e}`)}function wa(t){U(`/jastiper/orders/${t}`)}Ya(()=>(a(y),a(_)),()=>{H(g,n.filter(t=>{const e=a(y)==="all"||t.status===a(y),u=a(_)===""||t.orderCode.toLowerCase().includes(a(_).toLowerCase())||t.buyerName.toLowerCase().includes(a(_).toLowerCase())||t.productName.toLowerCase().includes(a(_).toLowerCase());return e&&u}))}),Za(),oe();var Y=ge(),Z=ae(Y);ue(Z,{});var aa=i(Z,2),w=i(v(aa),2),C=v(w),ea=i(v(C),2),ta=v(ea),Ca=v(ta,!0);s(ta),P(2),s(ea),s(C);var M=i(C,2),sa=i(v(M),2),va=v(sa),Ma=v(va,!0);s(va),P(2),s(sa),s(M);var $=i(M,2),ia=i(v($),2),la=v(ia),$a=v(la,!0);s(la),P(2),s(ia),s($);var ra=i($,2),da=i(v(ra),2),oa=v(da),La=v(oa,!0);s(oa),P(2),s(da),s(ra),s(w);var L=i(w,2),A=v(L),ua=i(v(A),2);ie(ua),s(A);var N=i(A,2);h(()=>{a(y),te(()=>{})}),Da(N,5,()=>Pa,ve,(t,e)=>{var u=ne(),m=v(u,!0);s(u);var D={};h(()=>{o(m,(a(e),l(()=>a(e).label))),D!==(D=(a(e),l(()=>a(e).value)))&&(u.value=(u.__value=(a(e),l(()=>a(e).value)))??"")}),f(t,u)}),s(N),s(L);var j=i(L,2),Aa=v(j);s(j);var B=i(j,2);Da(B,5,()=>a(g),t=>t.id,(t,e)=>{var u=be(),m=v(u),D=v(m),O=v(D),Ba=v(O,!0);s(O);var I=i(O,2),Oa=v(I,!0);s(I),s(D);var na=i(D,2),Ia=v(na,!0);s(na),s(m);var T=i(m,2),F=v(T),Q=i(v(F),2),Ta=v(Q,!0);s(Q);var ca=i(Q,2),Fa=v(ca,!0);s(ca),s(F);var R=i(F,2),q=i(v(R),2),Qa=v(q,!0);s(q);var fa=i(q,2),Ra=v(fa);s(fa),s(R);var z=i(R,2),K=i(v(z),2),qa=v(K,!0);s(K);var pa=i(K,2);{var za=r=>{var d=ce(),c=v(d);s(d),h(b=>o(c,`DP: ${b??""}`),[()=>(a(e),l(()=>W(a(e).dpAmount||0)))]),f(r,d)};x(pa,r=>{a(e),l(()=>a(e).paymentMethod==="dp")&&r(za)})}var _a=i(pa,2),Ka=v(_a,!0);s(_a),s(z);var ma=i(z,2),ba=v(ma);{var Ea=r=>{var d=fe(),c=i(v(d),2),b=v(c,!0);s(c),s(d),h(E=>o(b,E),[()=>(a(e),l(()=>S(a(e).paidAt)))]),f(r,d)};x(ba,r=>{a(e),l(()=>a(e).paidAt)&&r(Ea)})}var Ga=i(ba,2);{var Ha=r=>{var d=pe(),c=i(v(d),2),b=v(c,!0);s(c),s(d),h(E=>o(b,E),[()=>(a(e),l(()=>S(a(e).purchasedAt)))]),f(r,d)};x(Ga,r=>{a(e),l(()=>a(e).purchasedAt)&&r(Ha)})}s(ma),s(T);var ha=i(T,2),ga=v(ha),ya=i(ga,2);{var Ja=r=>{var d=_e();J("click",d,()=>Sa(a(e).id,"purchased")),f(r,d)};x(ya,r=>{a(e),l(()=>a(e).status==="paid")&&r(Ja)})}var Ua=i(ya,2);{var Va=r=>{var d=me();J("click",d,()=>U(`/jastiper/shipping/${a(e).id}`)),f(r,d)};x(Ua,r=>{a(e),l(()=>a(e).status==="purchased")&&r(Va)})}s(ha),s(u),h((r,d,c,b)=>{o(Ba,(a(e),l(()=>a(e).orderCode))),le(I,`background-color: ${r??""};`),o(Oa,d),o(Ia,c),o(Ta,(a(e),l(()=>a(e).buyerName))),o(Fa,(a(e),l(()=>a(e).buyerPhone))),o(Qa,(a(e),l(()=>a(e).productName))),o(Ra,`Qty: ${a(e),l(()=>a(e).quantity)??""}`),o(qa,(a(e),l(()=>a(e).paymentMethod==="full"?"Bayar Penuh":"DP 50%"))),o(Ka,b)},[()=>(a(e),l(()=>X(a(e).status).color)),()=>(a(e),l(()=>X(a(e).status).label)),()=>(a(e),l(()=>S(a(e).createdAt))),()=>(a(e),l(()=>W(a(e).totalPrice)))]),J("click",ga,()=>wa(a(e).orderCode)),f(t,u)}),s(B);var Na=i(B,2);{var ja=t=>{var e=he();f(t,e)};x(Na,t=>{a(g),l(()=>a(g).length===0)&&t(ja)})}s(aa),h((t,e,u,m)=>{o(Ca,t),o(Ma,e),o($a,u),o(La,m),o(Aa,`Menampilkan ${a(g),l(()=>a(g).length)??""} dari ${k(n),l(()=>n.length)??""} pesanan`)},[()=>(k(n),l(()=>n.filter(t=>t.status==="waiting_payment").length)),()=>(k(n),l(()=>n.filter(t=>t.paymentStatus==="paid"||t.paymentStatus==="dp_paid").length)),()=>(k(n),l(()=>n.filter(t=>t.status==="purchased").length)),()=>(k(n),l(()=>n.filter(t=>t.status==="completed").length))]),re(ua,()=>a(_),t=>H(_,t)),de(N,()=>a(y),t=>H(y,t)),f(xa,Y),ee()}export{Oe as component};

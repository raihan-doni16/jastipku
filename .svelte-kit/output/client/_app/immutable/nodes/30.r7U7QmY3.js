import{f as b,a as f}from"../chunks/CUf5UZYF.js";import"../chunks/BoQy5TvO.js";import{o as We}from"../chunks/JjBbrouE.js";import{a6 as Xe,a9 as te,aa as S,a4 as s,ac as a,i as e,ab as Ye,ae as n,z as Ce,a5 as i,af as Ze,ad as L,k as ae,a2 as Pe}from"../chunks/C6kp5iGx.js";import{e as w,s as M}from"../chunks/Dvw9CKj1.js";import{i as H}from"../chunks/BMTi0gWB.js";import{b as et,e as J,i as N}from"../chunks/DPurX8ys.js";import{r as g,s as Be}from"../chunks/CK8WfoRq.js";import{s as ie}from"../chunks/D6eV9jrv.js";import{b as m}from"../chunks/BXzdIX3i.js";import{b as G}from"../chunks/oa8gdtCF.js";import{i as tt}from"../chunks/BvILkHPm.js";import{g as se}from"../chunks/BqC4448f.js";import{N as at}from"../chunks/CAlpgxxh.js";import{p as Oe}from"../chunks/tGRDOfAf.js";var it=b("<option> </option>"),st=b("<option> </option>"),rt=b('<button class="btn-remove svelte-wxcqhy">√ó</button>'),lt=b('<div class="input-row svelte-wxcqhy"><select class="svelte-wxcqhy"><option disabled hidden=""></option><option>Pilih Kategori</option><!></select> <!></div>'),ot=b('<button class="btn-remove svelte-wxcqhy">√ó</button>'),nt=b('<div class="input-row svelte-wxcqhy"><input type="text" placeholder="Nama toko" class="svelte-wxcqhy"/> <!></div>'),vt=b('<div class="form-group svelte-wxcqhy"><label for="event-type" class="svelte-wxcqhy">Tipe Event</label> <select id="event-type" class="svelte-wxcqhy"><option>Sale Event</option><option>Pre-Order</option><option>Limited Edition</option><option>Seasonal</option></select></div>'),ct=b('<hr class="svelte-wxcqhy"/> <h2 class="svelte-wxcqhy"> </h2> <div class="form-group svelte-wxcqhy"><label for="store-0" class="svelte-wxcqhy">Toko yang Tersedia *</label> <div class="multi-input svelte-wxcqhy"><!> <button class="btn-add svelte-wxcqhy">+ Tambah Toko</button></div></div> <div class="form-row svelte-wxcqhy"><div class="form-group svelte-wxcqhy"><label for="departure-date" class="svelte-wxcqhy">Tanggal Berangkat *</label> <input id="departure-date" type="date" class="svelte-wxcqhy"/></div> <div class="form-group svelte-wxcqhy"><label for="return-date" class="svelte-wxcqhy">Tanggal Kembali *</label> <input id="return-date" type="date" class="svelte-wxcqhy"/></div> <div class="form-group svelte-wxcqhy"><label for="estimate-delivery" class="svelte-wxcqhy">Estimasi Pengiriman *</label> <input id="estimate-delivery" type="date" class="svelte-wxcqhy"/></div></div> <div class="form-row svelte-wxcqhy"><div class="form-group svelte-wxcqhy"><label for="fee-percent" class="svelte-wxcqhy">Fee (%) *</label> <input id="fee-percent" type="number" placeholder="15" min="0" max="100" class="svelte-wxcqhy"/> <span class="hint svelte-wxcqhy">Fee yang dikenakan dari harga barang</span></div> <div class="form-group svelte-wxcqhy"><label for="min-order" class="svelte-wxcqhy">Minimal Order (IDR) *</label> <input id="min-order" type="number" placeholder="100000" min="0" class="svelte-wxcqhy"/></div> <div class="form-group svelte-wxcqhy"><label for="quota-slot" class="svelte-wxcqhy">Quota/Slot *</label> <input id="quota-slot" type="number" placeholder="10" min="1" class="svelte-wxcqhy"/></div></div> <!>',1),pt=b("<option> </option>"),dt=b('<hr class="svelte-wxcqhy"/> <h2 class="svelte-wxcqhy">Informasi Preloved</h2> <div class="form-row svelte-wxcqhy"><div class="form-group svelte-wxcqhy"><label for="selling-price" class="svelte-wxcqhy">Harga Jual (IDR) *</label> <input id="selling-price" type="number" placeholder="2500000" min="0" class="svelte-wxcqhy"/></div> <div class="form-group svelte-wxcqhy"><label for="original-price" class="svelte-wxcqhy">Harga Asli (IDR)</label> <input id="original-price" type="number" placeholder="4500000" min="0" class="svelte-wxcqhy"/> <span class="hint svelte-wxcqhy">Opsional, untuk menampilkan diskon</span></div></div> <div class="form-row svelte-wxcqhy"><div class="form-group svelte-wxcqhy"><label for="condition" class="svelte-wxcqhy">Kondisi Barang *</label> <select id="condition" class="svelte-wxcqhy"></select></div> <div class="form-group svelte-wxcqhy"><label for="stock" class="svelte-wxcqhy">Stok *</label> <input id="stock" type="number" placeholder="1" min="1" class="svelte-wxcqhy"/></div></div>',1),ut=b('<!> <div class="container svelte-wxcqhy"><div class="header svelte-wxcqhy"><div><h1 class="svelte-wxcqhy">Buat Postingan Baru</h1> <p class="svelte-wxcqhy">Buat postingan jastip, preloved, atau event untuk ditawarkan ke pembeli</p></div></div> <div class="form-container svelte-wxcqhy"><div class="type-selector svelte-wxcqhy"><button><span class="type-icon svelte-wxcqhy">‚úàÔ∏è</span> <span class="type-label svelte-wxcqhy">Jastip</span></button> <button><span class="type-icon svelte-wxcqhy">üëú</span> <span class="type-label svelte-wxcqhy">Preloved</span></button> <button><span class="type-icon svelte-wxcqhy">üéâ</span> <span class="type-label svelte-wxcqhy">Event</span></button></div> <div class="form-card svelte-wxcqhy"><h2 class="svelte-wxcqhy">Informasi Dasar</h2> <div class="form-group svelte-wxcqhy"><label for="listing-title" class="svelte-wxcqhy">Judul Postingan *</label> <input id="listing-title" type="text" placeholder="Contoh: Jastip Korea - Kosmetik &amp; Fashion" class="svelte-wxcqhy"/></div> <div class="form-group svelte-wxcqhy"><label for="listing-description" class="svelte-wxcqhy">Deskripsi *</label> <textarea id="listing-description" placeholder="Jelaskan detail postingan Anda..." rows="5" class="svelte-wxcqhy"></textarea></div> <div class="form-row svelte-wxcqhy"><div class="form-group svelte-wxcqhy"><label for="listing-country" class="svelte-wxcqhy">Negara *</label> <select id="listing-country" class="svelte-wxcqhy"><option disabled hidden=""></option><option>Pilih Negara</option><!></select></div> <div class="form-group svelte-wxcqhy"><label for="category-0" class="svelte-wxcqhy">Kategori *</label> <div class="multi-input svelte-wxcqhy"><!> <button class="btn-add svelte-wxcqhy">+ Tambah Kategori</button></div></div></div> <!> <!> <div class="form-actions svelte-wxcqhy"><button class="btn-cancel svelte-wxcqhy">Batal</button> <button class="btn-submit svelte-wxcqhy">Buat Postingan</button></div></div></div></div>',1);function Ct(Ie,Ke){Xe(Ke,!1);let re="guest";et.subscribe(l=>{re=l.role}),We(()=>{re!=="jastiper"&&se("/login?redirect=/jastiper/listings/create&expected=jastiper")});let v=Ce("jastip"),t=Ce({title:"",description:"",country:"",countryCode:"",stores:[""],categories:[""],departureDate:"",returnDate:"",estimateDelivery:"",fee:15,minOrder:1e5,quota:10,price:0,originalPrice:0,condition:"Sangat Baik",stock:1,eventType:"sale"});const Ee=["Kosmetik","Fashion","Elektronik","Gadget","Gaming","Skincare","Tas","Branded","Sepatu","Makanan","Obat-obatan","Buku","Mainan"],He=["Seperti Baru","Sangat Baik","Baik","Cukup Baik"];function Je(){n(t,e(t).stores=[...e(t).stores,""])}function Ne(l){n(t,e(t).stores=e(t).stores.filter((r,o)=>o!==l))}function Re(){n(t,e(t).categories=[...e(t).categories,""])}function Ae(l){n(t,e(t).categories=e(t).categories.filter((r,o)=>o!==l))}function Fe(){const l=Oe.find(r=>r.code===e(t).countryCode);l&&n(t,e(t).country=l.name)}function Le(){if(!e(t).title||!e(t).description||!e(t).countryCode){alert("Harap lengkapi data wajib!");return}if(e(v)==="jastip"||e(v)==="event"){if(!e(t).departureDate||!e(t).returnDate||!e(t).estimateDelivery||!e(t).fee||!e(t).quota){alert("Harap lengkapi data jastip/event!");return}if(e(t).stores.filter(u=>u.trim()!=="").length===0){alert("Harap tambahkan minimal 1 toko!");return}}if(e(v)==="preloved"&&(!e(t).price||!e(t).condition)){alert("Harap lengkapi data preloved!");return}const l=e(t).categories.filter(o=>o.trim()!=="");if(l.length===0){alert("Harap pilih minimal 1 kategori!");return}const r={id:"LST"+Date.now(),type:e(v),jastiperId:"JST001",jastiperName:"Sarah Kim",jastiperAvatar:"üë©",jastiperRating:4.8,title:e(t).title,description:e(t).description,country:e(t).country,countryCode:e(t).countryCode,categories:l,status:"available",images:["üéÅ"],createdAt:new Date().toISOString()};(e(v)==="jastip"||e(v)==="event")&&(r.stores=e(t).stores.filter(o=>o.trim()!==""),r.departureDate=e(t).departureDate,r.returnDate=e(t).returnDate,r.estimateDelivery=e(t).estimateDelivery,r.fee=e(t).fee,r.feeType="percentage",r.minOrder=e(t).minOrder,r.quota=e(t).quota,r.sold=0),e(v)==="preloved"&&(r.price=e(t).price,r.originalPrice=e(t).originalPrice,r.condition=e(t).condition,r.stock=e(t).stock),e(v)==="event"&&(r.eventType=e(t).eventType),console.log("New Listing:",r),alert("Postingan berhasil dibuat! ‚úÖ"),se("/jastiper/listings")}tt();var le=ut(),oe=te(le);at(oe,{});var ne=a(oe,2),ve=a(s(ne),2),z=s(ve),Q=s(z);let ce;var $=a(Q,2);let pe;var de=a($,2);let ue;i(z);var ye=a(z,2),U=a(s(ye),2),he=a(s(U),2);g(he),i(U);var V=a(U,2),me=a(s(V),2);Ze(me),i(V);var W=a(V,2),X=s(W),R=a(s(X),2);S(()=>{e(t),L(()=>{})});var Y=s(R);Y.value=Y.__value="";var Z=a(Y);Z.value=Z.__value="";var Me=a(Z);J(Me,1,()=>Oe,N,(l,r)=>{var o=it(),u=s(o);i(o);var d={};S(()=>{M(u,`${e(r).flag??""} ${e(r).name??""}`),d!==(d=e(r).code)&&(o.value=(o.__value=e(r).code)??"")}),f(l,o)}),i(R),i(X);var _e=a(X,2),fe=a(s(_e),2),ge=s(fe);J(ge,1,()=>e(t).categories,N,(l,r,o)=>{var u=lt(),d=s(u);S(()=>{e(t),L(()=>{})}),Be(d,"id",`category-${o}`);var x=s(d);x.value=x.__value="";var q=a(x);q.value=q.__value="";var O=a(q);J(O,1,()=>Ee,N,(y,h)=>{var c=st(),j=s(c,!0);i(c);var _={};S(()=>{M(j,e(h)),_!==(_=e(h))&&(c.value=(c.__value=e(h))??"")}),f(y,c)}),i(d);var k=a(d,2);{var D=y=>{var h=rt();w("click",h,()=>Ae(o)),f(y,h)};H(k,y=>{e(t).categories.length>1&&y(D)})}i(u),G(d,()=>e(t).categories[o],y=>n(t,e(t).categories[o]=y)),f(l,u)});var Ge=a(ge,2);i(fe),i(_e),i(W);var be=a(W,2);{var ze=l=>{var r=ct(),o=a(te(r),2),u=s(o,!0);i(o);var d=a(o,2),x=a(s(d),2),q=s(x);J(q,1,()=>e(t).stores,N,(p,A,T)=>{var P=nt(),C=s(P);g(C),Be(C,"id",`store-${T}`);var E=a(C,2);{var F=B=>{var Te=ot();w("click",Te,()=>Ne(T)),f(B,Te)};H(E,B=>{e(t).stores.length>1&&B(F)})}i(P),m(C,()=>e(t).stores[T],B=>n(t,e(t).stores[T]=B)),f(p,P)});var O=a(q,2);i(x),i(d);var k=a(d,2),D=s(k),y=a(s(D),2);g(y),i(D);var h=a(D,2),c=a(s(h),2);g(c),i(h);var j=a(h,2),_=a(s(j),2);g(_),i(j),i(k);var K=a(k,2),I=s(K),ke=a(s(I),2);g(ke),Pe(2),i(I);var ee=a(I,2),De=a(s(ee),2);g(De),i(ee);var Se=a(ee,2),je=a(s(Se),2);g(je),i(Se),i(K);var Ue=a(K,2);{var Ve=p=>{var A=vt(),T=a(s(A),2);S(()=>{e(t),L(()=>{})});var P=s(T);P.value=P.__value="sale";var C=a(P);C.value=C.__value="preorder";var E=a(C);E.value=E.__value="limited";var F=a(E);F.value=F.__value="seasonal",i(T),i(A),G(T,()=>e(t).eventType,B=>n(t,e(t).eventType=B)),f(p,A)};H(Ue,p=>{e(v)==="event"&&p(Ve)})}S(()=>M(u,e(v)==="event"?"Informasi Event":"Informasi Jastip")),w("click",O,Je),m(y,()=>e(t).departureDate,p=>n(t,e(t).departureDate=p)),m(c,()=>e(t).returnDate,p=>n(t,e(t).returnDate=p)),m(_,()=>e(t).estimateDelivery,p=>n(t,e(t).estimateDelivery=p)),m(ke,()=>e(t).fee,p=>n(t,e(t).fee=p)),m(De,()=>e(t).minOrder,p=>n(t,e(t).minOrder=p)),m(je,()=>e(t).quota,p=>n(t,e(t).quota=p)),f(l,r)};H(be,l=>{(e(v)==="jastip"||e(v)==="event")&&l(ze)})}var we=a(be,2);{var Qe=l=>{var r=dt(),o=a(te(r),4),u=s(o),d=a(s(u),2);g(d),i(u);var x=a(u,2),q=a(s(x),2);g(q),Pe(2),i(x),i(o);var O=a(o,2),k=s(O),D=a(s(k),2);S(()=>{e(t),L(()=>{})}),J(D,5,()=>He,N,(c,j)=>{var _=pt(),K=s(_,!0);i(_);var I={};S(()=>{M(K,e(j)),I!==(I=e(j))&&(_.value=(_.__value=e(j))??"")}),f(c,_)}),i(D),i(k);var y=a(k,2),h=a(s(y),2);g(h),i(y),i(O),m(d,()=>e(t).price,c=>n(t,e(t).price=c)),m(q,()=>e(t).originalPrice,c=>n(t,e(t).originalPrice=c)),G(D,()=>e(t).condition,c=>n(t,e(t).condition=c)),m(h,()=>e(t).stock,c=>n(t,e(t).stock=c)),f(l,r)};H(we,l=>{e(v)==="preloved"&&l(Qe)})}var xe=a(we,2),qe=s(xe),$e=a(qe,2);i(xe),i(ye),i(ve),i(ne),S(()=>{ce=ie(Q,1,"type-btn svelte-wxcqhy",null,ce,{active:e(v)==="jastip"}),pe=ie($,1,"type-btn svelte-wxcqhy",null,pe,{active:e(v)==="preloved"}),ue=ie(de,1,"type-btn svelte-wxcqhy",null,ue,{active:e(v)==="event"})}),w("click",Q,()=>ae(v,"jastip")),w("click",$,()=>ae(v,"preloved")),w("click",de,()=>ae(v,"event")),m(he,()=>e(t).title,l=>n(t,e(t).title=l)),m(me,()=>e(t).description,l=>n(t,e(t).description=l)),G(R,()=>e(t).countryCode,l=>n(t,e(t).countryCode=l)),w("change",R,Fe),w("click",Ge,Re),w("click",qe,()=>se("/jastiper/listings")),w("click",$e,Le),f(Ie,le),Ye()}export{Ct as component};

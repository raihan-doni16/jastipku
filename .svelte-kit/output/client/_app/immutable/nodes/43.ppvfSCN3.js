import{f as c,a as l,c as qa}from"../chunks/CUf5UZYF.js";import"../chunks/BoQy5TvO.js";import{o as re,g as ie}from"../chunks/JjBbrouE.js";import{a6 as Ka,ab as Va,a5 as r,a4 as s,ac as t,i as a,u as xa,M as se,aa as b,a9 as va,z as ya,a2 as Ba,ae as o,k as Pa,af as oe,ad as ve}from"../chunks/C6kp5iGx.js";import{s as d,e as R}from"../chunks/Dvw9CKj1.js";import{i as k}from"../chunks/BMTi0gWB.js";import{e as Ia,i as Aa,b as ne}from"../chunks/DPurX8ys.js";import{r as q}from"../chunks/CK8WfoRq.js";import{b as U}from"../chunks/BXzdIX3i.js";import{b as le}from"../chunks/oa8gdtCF.js";import{i as Ha}from"../chunks/BvILkHPm.js";import{g as de}from"../chunks/BqC4448f.js";import{N as ce}from"../chunks/CAlpgxxh.js";import{s as Ja}from"../chunks/D6eV9jrv.js";import{p as Ea}from"../chunks/B8Ahxlw9.js";import{p as ue}from"../chunks/tGRDOfAf.js";var pe=c('<p class="svelte-b1fesp"> </p>'),_e=c("<div></div>"),me=c('<div class="step svelte-b1fesp"><div> </div> <div class="label svelte-b1fesp"><h3 class="svelte-b1fesp"> </h3> <!></div> <!></div>'),ke=c('<div class="stepper svelte-b1fesp"></div>');function ge(Sa,na){Ka(na,!1);let Y=Ea(na,"steps",24,()=>[]),p=Ea(na,"activeIndex",8,0);Ha();var ea=ke();Ia(ea,5,Y,Aa,(e,i,$)=>{var la=me(),ta=s(la),Ma=s(ta,!0);r(ta);var da=t(ta,2),ra=s(da),Ra=s(ra,!0);r(ra);var ia=t(ra,2);{var wa=D=>{var B=pe(),ca=s(B,!0);r(B),b(()=>d(ca,(a(i),xa(()=>a(i).caption)))),l(D,B)};k(ia,D=>{a(i),xa(()=>a(i).caption)&&D(wa)})}r(da);var ma=t(da,2);{var ka=D=>{var B=_e();b(()=>Ja(B,1,`divider ${$<p()?"done":""}`,"svelte-b1fesp")),l(D,B)};k(ma,D=>{se(Y()),xa(()=>$<Y().length-1)&&D(ka)})}r(la),b(()=>{Ja(ta,1,`bullet ${$===p()?"active":""} ${$<p()?"done":""}`,"svelte-b1fesp"),d(Ma,$<p()?"✓":$+1),d(Ra,(a(i),xa(()=>a(i).title)))}),l(e,la)}),r(ea),l(Sa,ea),Va()}var fe=c("<option> </option>"),be=c('<p class="error svelte-281z2k"> </p>'),ze=c('<div class="card svelte-281z2k"><label for="country" class="svelte-281z2k">Pilih Negara</label> <input id="country" list="country-options" placeholder="Cari negara tujuan" class="svelte-281z2k"/> <datalist id="country-options"></datalist> <!> <p class="hint svelte-281z2k">Tip: ketik kode negara (JP, US, KR) untuk mempercepat pencarian.</p></div>'),he=c("<option></option>"),xe=c('<p class="error svelte-281z2k"> </p>'),ye=c('<div class="grid svelte-281z2k"><div class="card svelte-281z2k"><label for="store" class="svelte-281z2k">Pilih Toko</label> <input id="store" list="store-options" placeholder="Ketik nama toko" class="svelte-281z2k"/> <datalist id="store-options"></datalist> <!></div> <div class="card svelte-281z2k"><label for="store-url" class="svelte-281z2k">URL Toko (opsional)</label> <input id="store-url" placeholder="https://tokoluarnegeri.com" class="svelte-281z2k"/> <p class="hint svelte-281z2k">Isi jika ingin admin memverifikasi toko tertentu.</p></div></div>'),Pe=c('<p class="error svelte-281z2k"> </p>'),Se=c('<p class="error svelte-281z2k"> </p>'),Me=c('<div class="grid two svelte-281z2k"><div class="card svelte-281z2k"><label for="product-name" class="svelte-281z2k">Nama Produk</label> <input id="product-name" placeholder="Contoh: Nintendo Switch OLED" class="svelte-281z2k"/> <!></div> <div class="card svelte-281z2k"><label for="product-url" class="svelte-281z2k">URL Produk</label> <input id="product-url" placeholder="https://toko.com/product/123" class="svelte-281z2k"/> <!></div></div> <div class="grid svelte-281z2k"><div class="card svelte-281z2k"><label for="variation" class="svelte-281z2k">Variasi (warna/ukuran)</label> <input id="variation" placeholder="Warna hitam, ukuran M" class="svelte-281z2k"/></div> <div class="card svelte-281z2k"><label for="note" class="svelte-281z2k">Catatan Pembeli</label> <textarea id="note" rows="3" placeholder="Tuliskan catatan khusus untuk admin" class="svelte-281z2k"></textarea></div></div> <div class="upload card svelte-281z2k"><p>Upload gambar (opsional)</p> <div class="drop-zone svelte-281z2k">Drag & drop atau klik untuk pilih file</div></div>',1),Re=c('<p class="error svelte-281z2k"> </p>'),we=c('<p class="error svelte-281z2k"> </p>'),Ue=c('<p class="error svelte-281z2k"> </p>'),De=c('<p class="error svelte-281z2k"> </p>'),Ne=c('<div class="grid two svelte-281z2k"><div class="card svelte-281z2k"><label for="currency" class="svelte-281z2k">Mata Uang Lokal</label> <select id="currency" class="svelte-281z2k"><option>JPY - Yen Jepang</option><option>USD - Dollar Amerika</option><option>KRW - Won Korea</option><option>SGD - Dollar Singapura</option><option>EUR - Euro</option><option>CAD - Dollar Kanada</option></select></div> <div class="card svelte-281z2k"><label for="min-price" class="svelte-281z2k">Perkiraan Harga Minimum</label> <input id="min-price" type="number" min="0" class="svelte-281z2k"/> <!></div> <div class="card svelte-281z2k"><label for="max-price" class="svelte-281z2k">Perkiraan Harga Maksimum</label> <input id="max-price" type="number" min="0" class="svelte-281z2k"/> <!></div> <div class="card svelte-281z2k"><label for="quantity" class="svelte-281z2k">Jumlah Barang</label> <input id="quantity" type="number" min="1" class="svelte-281z2k"/> <!></div> <div class="card svelte-281z2k"><label for="budget" class="svelte-281z2k">Batas Budget (Rp)</label> <input id="budget" type="number" min="0" class="svelte-281z2k"/> <!></div></div> <div class="summary card svelte-281z2k"><h3 class="svelte-281z2k">Estimasi Biaya Awal</h3> <p> </p> <p> </p> <p> </p> <p> </p></div>',1),Te=c('<div class="success svelte-281z2k">✅ Permintaan berhasil dikirim. Status: <strong>Menunggu_Review_Admin</strong></div>'),Le=c('<div class="review svelte-281z2k"><aside class="card svelte-281z2k"><h3>Ringkasan Permintaan</h3> <div class="row svelte-281z2k"><span>Negara</span> <strong> </strong></div> <div class="row svelte-281z2k"><span>Toko</span> <strong> </strong></div> <div class="row svelte-281z2k"><span>Produk</span> <strong> </strong></div> <div class="row svelte-281z2k"><span>Variasi</span> <strong> </strong></div> <div class="row svelte-281z2k"><span>Harga Estimasi</span> <strong> </strong></div> <div class="row svelte-281z2k"><span>Total Estimasi (Rp)</span> <strong> </strong></div> <div class="row svelte-281z2k"><span>Budget</span> <strong> </strong></div></aside> <div class="card actions svelte-281z2k"><h3>Siap Kirim?</h3> <p>Periksa kembali data di atas sebelum dikirim ke Admin Jastipku.</p> <button class="primary svelte-281z2k">Kirim ke Admin</button> <!></div></div>'),qe=c('<button class="ghost svelte-281z2k">Back</button>'),Be=c('<button class="primary svelte-281z2k">Next</button>'),Ie=c('<!> <section class="wizard svelte-281z2k"><header class="svelte-281z2k"><h1 class="svelte-281z2k">Buat Permintaan Titip</h1> <p class="svelte-281z2k">Isi semua langkah berikut untuk mengirimkan permintaan ke Admin Jastipku.</p></header> <!> <div class="step-content svelte-281z2k"><!></div> <div class="navigation svelte-281z2k"><!> <!></div></section>',1);function Ze(Sa,na){Ka(na,!1);const Y=[{title:"Negara",caption:"Pilih destinasi belanja"},{title:"Toko",caption:"Tentukan toko tujuan"},{title:"Produk",caption:"Detail produk kamu"},{title:"Harga",caption:"Estimasi biaya"},{title:"Review",caption:"Cek ulang & kirim"}];let p=ya(0),ea=ya(!1),e=ya({country:"",store:"",storeUrl:"",productName:"",productUrl:"",variation:"",note:"",minPrice:"",maxPrice:"",quantity:1,budget:"",convertedMin:0,convertedMax:0,convertedMinTotal:0,convertedMaxTotal:0,currency:"JPY"}),i=ya({});const $=ue.map(v=>({value:v.code,label:`${v.flag} ${v.name}`})),la={JP:["Uniqlo Ginza","Don Quijote Shibuya","Pokemon Center Tokyo DX"],US:["Apple Store Fifth Avenue","Best Buy Manhattan","Target Brooklyn"],KR:["Olive Young Myeongdong","Line Friends Store","Lotte Duty Free"],SG:["ION Orchard","Takashimaya","Mustafa Centre"],FR:["Galeries Lafayette","Louis Vuitton Champs-Élysées","Le Bon Marché"],CA:["Hudson Bay Toronto","Lululemon Robson","Apple Store Vancouver"]},ta={JPY:120,USD:16e3,KRW:12,SGD:11800,EUR:17500,CAD:12e3};re(()=>{const{role:v}=ie(ne);v!=="user"&&de("/login?redirect=/wizard&expected=user")});function Ma(){ra(a(p))&&a(p)<Y.length-1&&Pa(p,a(p)+1)}function da(){a(p)>0&&Pa(p,a(p)-1)}function ra(v){switch(Pa(i,{}),v){case 0:a(e).country||o(i,a(i).country="Negara wajib dipilih.");break;case 1:a(e).store||o(i,a(i).store="Toko wajib dipilih.");break;case 2:a(e).productName||o(i,a(i).productName="Nama produk wajib diisi."),Ra(a(e).productUrl)||o(i,a(i).productUrl="URL produk tidak valid.");break;case 3:a(e).minPrice||o(i,a(i).minPrice="Harga minimum wajib diisi."),a(e).maxPrice||o(i,a(i).maxPrice="Harga maksimum wajib diisi."),a(e).quantity||o(i,a(i).quantity="Jumlah barang tidak boleh kosong."),a(e).budget||o(i,a(i).budget="Batas budget wajib diisi.");break}return Object.keys(a(i)).length===0}function Ra(v){try{const _=new URL(v);return["http:","https:"].includes(_.protocol)}catch{return!1}}function ia(){const v=ta[a(e).currency]??1,_=Number(a(e).minPrice||0),j=Number(a(e).maxPrice||0),J=Number(a(e).quantity||1);o(e,a(e).convertedMin=Math.round(_*v)),o(e,a(e).convertedMax=Math.round(j*v)),o(e,a(e).convertedMinTotal=Math.round(a(e).convertedMin*J)),o(e,a(e).convertedMaxTotal=Math.round(a(e).convertedMax*J))}function wa(){ra(a(p))&&Pa(ea,!0)}Ha();var ma=Ie(),ka=va(ma);ce(ka,{});var D=t(ka,2),B=t(s(D),2);ge(B,{get steps(){return Y},get activeIndex(){return a(p)}});var ca=t(B,2),Ga=s(ca);{var Oa=v=>{var _=ze(),j=t(s(_),2);q(j);var J=t(j,2);Ia(J,5,()=>$,Aa,(h,P)=>{var x=fe(),W=s(x,!0);r(x);var w={};b(()=>{d(W,a(P).label),w!==(w=a(P).value)&&(x.value=(x.__value=a(P).value)??"")}),l(h,x)}),r(J);var Ua=t(J,2);{var E=h=>{var P=be(),x=s(P,!0);r(P),b(()=>d(x,a(i).country)),l(h,P)};k(Ua,h=>{a(i).country&&h(E)})}Ba(2),r(_),U(j,()=>a(e).country,h=>o(e,a(e).country=h)),R("input",j,()=>o(i,a(i).country="")),l(v,_)},Ya=v=>{var _=qa(),j=va(_);{var J=E=>{var h=ye(),P=s(h),x=t(s(P),2);q(x);var W=t(x,2);Ia(W,5,()=>la[a(e).country]??[],Aa,(g,z)=>{var y=he(),S={};b(()=>{S!==(S=a(z))&&(y.value=(y.__value=a(z))??"")}),l(g,y)}),r(W);var w=t(W,2);{var F=g=>{var z=xe(),y=s(z,!0);r(z),b(()=>d(y,a(i).store)),l(g,z)};k(w,g=>{a(i).store&&g(F)})}r(P);var K=t(P,2),V=t(s(K),2);q(V),Ba(2),r(K),r(h),U(x,()=>a(e).store,g=>o(e,a(e).store=g)),R("input",x,()=>o(i,a(i).store="")),U(V,()=>a(e).storeUrl,g=>o(e,a(e).storeUrl=g)),l(E,h)},Ua=E=>{var h=qa(),P=va(h);{var x=w=>{var F=Me(),K=va(F),V=s(K),g=t(s(V),2);q(g);var z=t(g,2);{var y=u=>{var f=Pe(),O=s(f,!0);r(f),b(()=>d(O,a(i).productName)),l(u,f)};k(z,u=>{a(i).productName&&u(y)})}r(V);var S=t(V,2),M=t(s(S),2);q(M);var I=t(M,2);{var Q=u=>{var f=Se(),O=s(f,!0);r(f),b(()=>d(O,a(i).productUrl)),l(u,f)};k(I,u=>{a(i).productUrl&&u(Q)})}r(S),r(K);var N=t(K,2),T=s(N),H=t(s(T),2);q(H),r(T);var L=t(T,2),G=t(s(L),2);oe(G),r(L),r(N),Ba(2),U(g,()=>a(e).productName,u=>o(e,a(e).productName=u)),R("input",g,()=>o(i,a(i).productName="")),U(M,()=>a(e).productUrl,u=>o(e,a(e).productUrl=u)),R("input",M,()=>o(i,a(i).productUrl="")),U(H,()=>a(e).variation,u=>o(e,a(e).variation=u)),U(G,()=>a(e).note,u=>o(e,a(e).note=u)),l(w,F)},W=w=>{var F=qa(),K=va(F);{var V=z=>{var y=Ne(),S=va(y),M=s(S),I=t(s(M),2);b(()=>{a(e),ve(()=>{})});var Q=s(I);Q.value=Q.__value="JPY";var N=t(Q);N.value=N.__value="USD";var T=t(N);T.value=T.__value="KRW";var H=t(T);H.value=H.__value="SGD";var L=t(H);L.value=L.__value="EUR";var G=t(L);G.value=G.__value="CAD",r(I),r(M);var u=t(M,2),f=t(s(u),2);q(f);var O=t(f,2);{var Da=n=>{var m=Re(),C=s(m,!0);r(m),b(()=>d(C,a(i).minPrice)),l(n,m)};k(O,n=>{a(i).minPrice&&n(Da)})}r(u);var X=t(u,2),Z=t(s(X),2);q(Z);var Na=t(Z,2);{var ua=n=>{var m=we(),C=s(m,!0);r(m),b(()=>d(C,a(i).maxPrice)),l(n,m)};k(Na,n=>{a(i).maxPrice&&n(ua)})}r(X);var sa=t(X,2),oa=t(s(sa),2);q(oa);var ga=t(oa,2);{var fa=n=>{var m=Ue(),C=s(m,!0);r(m),b(()=>d(C,a(i).quantity)),l(n,m)};k(ga,n=>{a(i).quantity&&n(fa)})}r(sa);var ba=t(sa,2),aa=t(s(ba),2);q(aa);var za=t(aa,2);{var Ta=n=>{var m=De(),C=s(m,!0);r(m),b(()=>d(C,a(i).budget)),l(n,m)};k(za,n=>{a(i).budget&&n(Ta)})}r(ba),r(S);var ha=t(S,2),A=t(s(ha),2),pa=s(A);r(A);var _a=t(A,2),Xa=s(_a);r(_a);var La=t(_a,2),Za=s(La);r(La);var ja=t(La,2),ae=s(ja);r(ja),r(ha),b((n,m,C,ee,te)=>{d(pa,`Estimasi harga per item: ${(a(e).minPrice||0)??""} - ${(a(e).maxPrice||0)??""} ${a(e).currency??""} ≈ Rp 
          ${n??""} - Rp ${m??""}`),d(Xa,`Jumlah barang: ${a(e).quantity??""}`),d(Za,`Estimasi total: Rp ${C??""} - Rp 
          ${ee??""}`),d(ae,`Batas budget: Rp ${te??""}`)},[()=>a(e).convertedMin.toLocaleString("id-ID"),()=>a(e).convertedMax.toLocaleString("id-ID"),()=>a(e).convertedMinTotal.toLocaleString("id-ID"),()=>a(e).convertedMaxTotal.toLocaleString("id-ID"),()=>Number(a(e).budget||0).toLocaleString("id-ID")]),le(I,()=>a(e).currency,n=>o(e,a(e).currency=n)),R("change",I,ia),U(f,()=>a(e).minPrice,n=>o(e,a(e).minPrice=n)),R("input",f,()=>{o(i,a(i).minPrice=""),ia()}),U(Z,()=>a(e).maxPrice,n=>o(e,a(e).maxPrice=n)),R("input",Z,()=>{o(i,a(i).maxPrice=""),ia()}),U(oa,()=>a(e).quantity,n=>o(e,a(e).quantity=n)),R("input",oa,()=>{o(i,a(i).quantity=""),ia()}),U(aa,()=>a(e).budget,n=>o(e,a(e).budget=n)),R("input",aa,()=>o(i,a(i).budget="")),l(z,y)},g=z=>{var y=Le(),S=s(y),M=t(s(S),2),I=t(s(M),2),Q=s(I,!0);r(I),r(M);var N=t(M,2),T=t(s(N),2),H=s(T,!0);r(T),r(N);var L=t(N,2),G=t(s(L),2),u=s(G,!0);r(G),r(L);var f=t(L,2),O=t(s(f),2),Da=s(O,!0);r(O),r(f);var X=t(f,2),Z=t(s(X),2),Na=s(Z);r(Z),r(X);var ua=t(X,2),sa=t(s(ua),2),oa=s(sa);r(sa),r(ua);var ga=t(ua,2),fa=t(s(ga),2),ba=s(fa);r(fa),r(ga),r(S);var aa=t(S,2),za=t(s(aa),4),Ta=t(za,2);{var ha=A=>{var pa=Te();l(A,pa)};k(Ta,A=>{a(ea)&&A(ha)})}r(aa),r(y),b((A,pa,_a)=>{d(Q,a(e).country||"-"),d(H,a(e).store||"-"),d(u,a(e).productName||"-"),d(Da,a(e).variation||"-"),d(Na,`${(a(e).minPrice||0)??""} - ${(a(e).maxPrice||0)??""} ${a(e).currency??""}`),d(oa,`Rp ${A??""} - Rp 
              ${pa??""}`),d(ba,`Rp ${_a??""}`)},[()=>a(e).convertedMinTotal.toLocaleString("id-ID"),()=>a(e).convertedMaxTotal.toLocaleString("id-ID"),()=>Number(a(e).budget||0).toLocaleString("id-ID")]),R("click",za,wa),l(z,y)};k(K,z=>{a(p)===3?z(V):z(g,!1)},!0)}l(w,F)};k(P,w=>{a(p)===2?w(x):w(W,!1)},!0)}l(E,h)};k(j,E=>{a(p)===1?E(J):E(Ua,!1)},!0)}l(v,_)};k(Ga,v=>{a(p)===0?v(Oa):v(Ya,!1)})}r(ca);var Ca=t(ca,2),$a=s(Ca);{var Wa=v=>{var _=qe();R("click",_,da),l(v,_)};k($a,v=>{a(p)>0&&v(Wa)})}var Fa=t($a,2);{var Qa=v=>{var _=Be();R("click",_,Ma),l(v,_)};k(Fa,v=>{a(p)<Y.length-1&&v(Qa)})}r(Ca),r(D),l(Sa,ma),Va()}export{Ze as component};
